<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Blogs on 攻城狮Gala</title><link>https://blog.galacoding.fun/blog/</link><description>Recent content in Blogs on 攻城狮Gala</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 03 Jul 2023 22:46:14 +0800</lastBuildDate><atom:link href="https://blog.galacoding.fun/blog/index.xml" rel="self" type="application/rss+xml"/><item><title>使用CloudFlare Pages托管网站</title><link>https://blog.galacoding.fun/blog/devops/%E4%BD%BF%E7%94%A8cloudflare-pages%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99/</link><pubDate>Mon, 03 Jul 2023 22:46:14 +0800</pubDate><guid>https://blog.galacoding.fun/blog/devops/%E4%BD%BF%E7%94%A8cloudflare-pages%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703224931.png" alt="Featured image of post 使用CloudFlare Pages托管网站" />&lt;!----- [趣玩](/tags/趣玩) [Cloudflare](/tags/Cloudflare) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;p>如何白嫖省心的CloudFlare Pages服务？完美替代Github Pages，对大陆网络友好～&lt;/p>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>之前自己重新开始写博客了，为了方便本地md笔记(参考&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E6%96%B0%E8%A7%A3-obsidian/" >个人笔记新解-Obsidian&lt;/a>)可以publish到公网，重新选型博客系统，最后决定使用hugo，参考&lt;code>Obsidian与Hugo的一拍即合&lt;/code>。&lt;/p>
&lt;p>不过之前计划直接挂在服务器的nginx上，不过请求流量和访问稳定性都是问题，同时hugo是静态网站，可以直接放到Github Pages上，当然现在有新的选择了，就是ClouFlare Pages，相比Github的服务肯定大陆访问的稳定性更好～&lt;/p>
&lt;h2 id="简介">简介&lt;/h2>
&lt;p>Cloudfalre Pages服务在2021年就可用了，参见&lt;a class="link" href="https://blog.cloudflare.com/cloudflare-pages-ga/" target="_blank" rel="noopener"
>Cloudflare Pages is now Generally Available&lt;/a>。&lt;/p>
&lt;p>可以通过链接你的github或者gitlab，当push到远端时，cf pages将自动构建部署。使用 Cloudflare Pages 开发的每个站点都部署到位于 100 多个国家/地区的 Cloudflare 数据中心网络。&lt;/p>
&lt;p>同时还有如下特性：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Built-in, free web analytics&lt;/strong>，通过&lt;a class="link" href="https://www.cloudflare.com/web-analytics/" target="_blank" rel="noopener"
>Web Analytics&lt;/a>，只需单击一下即可启用分析，并开始跟踪网站的进度和性能，包括有关流量和网络核心生命体征的指标。&lt;/li>
&lt;li>&lt;strong>redirects file support&lt;/strong>，通过将 &lt;code>_redirects&lt;/code> 文件添加到项目的构建输出目录，您可以轻松地将用户重定向到正确的 URL。格式如&lt;code>[source] [destination] [http code]&lt;/code>。&lt;/li>
&lt;li>其他特性：&lt;/li>
&lt;li>&lt;strong>Protected previews with Cloudflare Access integration&lt;/strong>，custom your access policy；&lt;/li>
&lt;li>&lt;strong>Live previews with Cloudflare Tunnel&lt;/strong>；&lt;/li>
&lt;li>&lt;strong>Image compression&lt;/strong>，&lt;strong>Device-based resizing&lt;/strong>，&lt;strong>Gzip and Brotli&lt;/strong>，&lt;strong>Device-based resizing&lt;/strong>；&lt;/li>
&lt;li>&lt;strong>A/B testing&lt;/strong>，&lt;strong>Webhooks&lt;/strong>；&lt;/li>
&lt;li>Integrate with &lt;strong>Cloudflare Workers&lt;/strong>；&lt;/li>
&lt;/ol>
&lt;h2 id="部署">部署&lt;/h2>
&lt;p>准备创建Clouflare Pages:&lt;/p>
&lt;ol>
&lt;li>登录 &lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>Cloudflare dashboard&lt;/a>，选择你的账户.&lt;/li>
&lt;li>选择&lt;strong>Workers &amp;amp; Pages&lt;/strong>，选择&lt;strong>Create application&lt;/strong> &amp;gt; &lt;strong>Pages&lt;/strong> &amp;gt; &lt;strong>Connect to Git&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703231008.png"
loading="lazy"
alt="Pasted image 20230703231008.png"
>&lt;/p>
&lt;blockquote>
&lt;p>推荐使用Git部署，虽然支持直接上传资产，但是链接git可以更好协同。&lt;/p>
&lt;/blockquote>
&lt;ol start="3">
&lt;li>链接Github，选择对应的仓库。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703231158.png"
loading="lazy"
alt="Pasted image 20230703231158.png"
>&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703231315.png"
loading="lazy"
alt="Pasted image 20230703231315.png"
>&lt;/p>
&lt;ol start="4">
&lt;li>选择仓库分支，并编辑构建命令，因为我的项目已经使用&lt;code>github-pages-action&lt;/code>自动完成构建到分支&lt;code>gh-pages&lt;/code>，所以跳过设置构建，其他框架构建参考&lt;a class="link" href="https://developers.cloudflare.com/pages/platform/build-configuration" target="_blank" rel="noopener"
>配置构建&lt;/a>。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703231820.png"
loading="lazy"
alt="Pasted image 20230703231820.png"
>&lt;/p>
&lt;ol start="5">
&lt;li>点击保存并部署，cf pages提供一个免费的二级域名访问测试。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703232813.png"
loading="lazy"
alt="Pasted image 20230703232813.png"
>&lt;/p>
&lt;h2 id="其他功能">其他功能&lt;/h2>
&lt;h3 id="查看pages程序">查看pages程序&lt;/h3>
&lt;p>可以在&lt;code>workers和pages&lt;/code>的概述中，浏览部署的程序和plan uasge情况，免费的每天有100000次请求，一般够用的。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703233603.png"
loading="lazy"
alt="Pasted image 20230703233603.png"
>&lt;/p>
&lt;h3 id="重定向域名">重定向域名&lt;/h3>
&lt;p>在pages的项目页，选择&lt;code>自定义域&lt;/code>，点击&lt;code>设置自定义域&lt;/code>，注意输入你已经转入cf的域名。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703234328.png"
loading="lazy"
alt="Pasted image 20230703234328.png"
>&lt;/p>
&lt;p>输入域名后，cf会自动添加一个&lt;code>CNAME&lt;/code>解析到对应域名，注意如果与原有域名冲突cf会提示。最后点击&lt;code>激活域&lt;/code>完成激活。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703234532.png"
loading="lazy"
alt="Pasted image 20230703234532.png"
>&lt;/p>
&lt;blockquote>
&lt;p>这里可以输入一级域名，也可以输入二级域名，比如&lt;code>blog.xxx.com&lt;/code>。&lt;/p>
&lt;/blockquote>
&lt;h3 id="启用web-analysis">启用Web Analysis&lt;/h3>
&lt;p>在项目的&lt;code>设置&lt;/code>中，点击&lt;code>启用Web analysis&lt;/code>，随后在&lt;a class="link" href="https://www.cloudflare.com/web-analytics" target="_blank" rel="noopener"
>Cloudflare Web Analytics&lt;/a>查看网站流量。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703233802.png"
loading="lazy"
alt="Pasted image 20230703233802.png"
>&lt;/p>
&lt;p>Web Analysis展示：&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230703234032.png"
loading="lazy"
alt="Pasted image 20230703234032.png"
>&lt;/p>
&lt;h2 id="faq">FAQ&lt;/h2>
&lt;h3 id="图片过大返回404">图片过大返回404&lt;/h3>
&lt;p>在使用过程中，发现一个5.2MB的图片无法显示，可能和CF的限制有关，需要确认，使用压缩后图片显示正常。&lt;/p>
&lt;h2 id="最后">最后&lt;/h2>
&lt;p>体验效果不错～欢迎大家按照步骤尝试～&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>极客周刊(第1期)</title><link>https://blog.galacoding.fun/blog/research/%E6%9E%81%E5%AE%A2%E5%91%A8%E5%88%8A%E7%AC%AC1%E6%9C%9F/</link><pubDate>Wed, 28 Jun 2023 10:41:56 +0800</pubDate><guid>https://blog.galacoding.fun/blog/research/%E6%9E%81%E5%AE%A2%E5%91%A8%E5%88%8A%E7%AC%AC1%E6%9C%9F/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/jike-weekly-banner2.png" alt="Featured image of post 极客周刊(第1期)" />&lt;!----- [Research](/tags/Research) [极客周刊](/tags/极客周刊) [Web3](/tags/Web3) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;p>这里是极客周刊(第1期)，分享Web3，AI，编程等干货知识～&lt;/p>
&lt;h2 id="前言">前言&lt;/h2>
&lt;p>为什么要做极客周刊呢？很简单，因为想通过分享技术动向，行业前沿知识，让自己更有动力去学习，同时也可以引起讨论，一起研究进步。自己也是订阅很多频道，但是没有经历去学习，甚至都懒得去看～所以极客周刊是自己学习的新开始，也希望对你在Web3，编程，AI等领域有所帮助～&lt;/p>
&lt;h2 id="web3">Web3&lt;/h2>
&lt;h3 id="password-recovery-for-account-abstraction-wallethttpsethresearchtpassword-recovery-for-account-abstraction-wallet15923">&lt;a class="link" href="https://ethresear.ch/t/password-recovery-for-account-abstraction-wallet/15923" target="_blank" rel="noopener"
>Password recovery for Account Abstraction Wallet&lt;/a>&lt;/h3>
&lt;p>该提案介绍使用 ZK-SNARKs 实现账户抽象钱包的密码恢复机制。首先将 hash(password, nonce) 存储在合约钱包中。如果用户丢失了私钥，他们可以使用密码生成一个零知识证明。证明用于验证用户知道密码并请求更改私钥。该机制通过延长确认期限和保护用户隐私，提供了安全可靠的密码恢复解决方案。&lt;/p>
&lt;h3 id="how-to-empower-infrastructure-to-service-a-billion-strong-user-base-with-account-abstractionhttpsmediumcomblockpihow-to-empower-infrastructure-to-service-a-billion-strong-user-base-with-account-abstraction-7a2664a932d3"> &lt;a class="link" href="https://medium.com/@blockpi/how-to-empower-infrastructure-to-service-a-billion-strong-user-base-with-account-abstraction-7a2664a932d3" target="_blank" rel="noopener"
>How to Empower Infrastructure to Service a Billion-Strong User Base with Account Abstraction&lt;/a>&lt;/h3>
&lt;p>BlockPI通过这篇文章详细介绍了Account Abstraction的前世今生，以及当前发展现状和亟待解决问题。&lt;/p>
&lt;ol>
&lt;li>&lt;code>Bundler&lt;/code>如何处理事务失败，本质还是打包问题，&lt;code>UserOperations&lt;/code>的打包是一个利益驱动行为，但是用户也会基于利益发送给多个&lt;code>Bundler&lt;/code>，那么如何更好服务用户同时获得最大化利益；&lt;/li>
&lt;li> AA 的最大可提取价值 (MEV)，MEV 的逻辑也适用于 AA，因为 Bundlers 可以自由地对 UserOperations 进行排序，当前还是早起阶段，发展方向亦未确定；&lt;/li>
&lt;/ol>
&lt;p>未来发展：&lt;/p>
&lt;ol>
&lt;li>Public mempool，通过公共内存池建立去中心化平台；&lt;/li>
&lt;li>Bundler的捆绑算法。目前Bundlers 采用直接简单的逻辑进行打包，随着 UserOperations 数量的增加，和公共内存池的引入，选择和捆绑 UserOperations 的策略变得更加复杂。目前有很多团队已经推出对应产品；&lt;/li>
&lt;li>基础设施提供商需要提供至少两项基础服务，即Bundler服务和Paymaster服务；&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230709232156.png"
loading="lazy"
alt="Pasted image 20230709232156.png"
>&lt;/p>
&lt;h3 id="explore-crypto-with-chatgpthttpswwwbanklesscomstep-up-your-crypto-analysis-with-chatgpt">&lt;a class="link" href="https://www.bankless.com/step-up-your-crypto-analysis-with-chatgpt" target="_blank" rel="noopener"
>Explore Crypto with ChatGPT&lt;/a>&lt;/h3>
&lt;p>Bankless本期带来了如何在ChatGPT中索引Crypto数据，简单几步提高数据分析效率：&lt;/p>
&lt;ol>
&lt;li>开通ChatGPT Plus；&lt;/li>
&lt;li>进入&lt;code>Plugin store&lt;/code>，搜索“crypto,” “DeFi”等关键字，找到相关插件；&lt;/li>
&lt;li>&lt;strong>SignalPlus&lt;/strong>插件可以帮助trader分析代币分布，交易热度等，当前NFT数据较少；&lt;/li>
&lt;li>&lt;strong>CheckTheChain&lt;/strong>插件可以帮你分析链上数据，包括区块，交易，合约事件等；&lt;/li>
&lt;li>&lt;strong>DefiLlama&lt;/strong>插件可以快速获取链上DeFi，Bridges数据，比如收益情况，TVL，实时数据等；&lt;/li>
&lt;/ol>
&lt;h3 id="新加坡金管局mas目的绑定货币到底是什么httpstwittercomwzxznlstatus1675398032354050050">&lt;a class="link" href="https://twitter.com/wzxznl/status/1675398032354050050" target="_blank" rel="noopener"
>新加坡金管局MAS目的绑定货币到底是什么？&lt;/a>&lt;/h3>
&lt;p>&lt;strong>菠菜菠菜&lt;/strong>在推特详细分析了新加坡金管局MAS最近发布了目的绑定货币（Purpose Bound Money，PBM）。PBM 是第三者对数字货币进行编程的方法，即用一个可以对支付逻辑进行编程的「包装合约」来打包数字货币，一旦支付逻辑条件满足，收款人就可以从「包装合约」中取出数字货币，使得货币本身仍然保持同质化。&lt;/p>
&lt;p>潜在用途：预付套餐、在线商务、合同协议、商业租赁、贸易金融、捐款、跨境支付。未来的研究：可能包括研究 PBM 用于非智能手机形态（例如，卡）的使用，以及离线支付以减少对网络连接的依赖。&lt;/p>
&lt;p>PBM白皮书中文版：&lt;a class="link" href="https://mirror.xyz/bocaibocai.eth/roM8SqO8Z6_iCtdo3eEMxS8HyenKO96Hsrkln_F5WVA" target="_blank" rel="noopener"
>新加坡金管局MAS：目的绑定货币（PBM）技术白皮书&lt;/a>&lt;/p>
&lt;h3 id="对话-ethstorage-创始人数据可用性和去中心化存储httpsmpweixinqqcoms1k8ue0jker_quxxszunbrwutm_sourcesubstackutm_mediumemail">&lt;a class="link" href="https://mp.weixin.qq.com/s/1K8ue0jkER_QuXXsZUNbRw?utm_source=substack&amp;amp;utm_medium=email" target="_blank" rel="noopener"
>对话 EthStorage 创始人：数据可用性和去中心化存储&lt;/a>&lt;/h3>
&lt;p>本期是ECN对&lt;strong>EthStorage 创始人 Qi Zhou&lt;/strong>的访谈，EthStorage与Eth生态结合紧密，并在积极推进EIP-4844升级，文章主要介绍了：&lt;/p>
&lt;ol>
&lt;li>数据可用性DA的讨论；&lt;/li>
&lt;li>关于不同 DA 方案的讨论，什么是EIP-4844，以及当前的进展；&lt;/li>
&lt;li>数据可用性委员会 (DAC) 的应用和局限；&lt;/li>
&lt;li>EthStorage简介，以及存储证明，激励方案等机制说明；&lt;/li>
&lt;/ol>
&lt;p>其中Qi Zhou给出2组有意思的数据：&lt;/p>
&lt;ol>
&lt;li>L2 中可能有 90% 以上的费用都是支付给数据可用的费用，为了降低成本提供 DAC 数据可用性委员来提供自己的数据层。像 Arbitrum Nova，可能有六七个这样的节点，偏中心化方案。&lt;/li>
&lt;li>EIP-4844升级所有Blob数据依然通过 P2P 的网络进行广播，Danksharding 后通过数据采样技术，不需要去下载，同时Danksharding会将区块大小提高到32MB，数据采样技术极大降低带宽压力。&lt;/li>
&lt;/ol>
&lt;h3 id="erigon-update-their-2023-roadmaphttpstwittercomerigonethstatus1677731373262446597">&lt;a class="link" href="https://twitter.com/ErigonEth/status/1677731373262446597" target="_blank" rel="noopener"
>Erigon Update Their 2023 Roadmap&lt;/a>&lt;/h3>
&lt;p>Erigon为了减少多次升级带来的用户体验问题，将Erigon4合并到一次升级，其中重点目标：&lt;/p>
&lt;ol>
&lt;li>增加Consensus Layer， &lt;code>Caplin&lt;/code>；&lt;/li>
&lt;li>继续优化Sync的性能，带来更快的同步，更低的存储，预计20hr同步以太坊20m区块，存储小于1.2Tb；&lt;/li>
&lt;li>支持verkle tree；&lt;/li>
&lt;li>内嵌的&lt;code>Otterscan&lt;/code>；&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230709215613.png"
loading="lazy"
alt="Pasted image 20230709215613.png"
>&lt;/p>
&lt;h2 id="devops">DevOps&lt;/h2>
&lt;h3 id="使用cloudflare-pages托管网站httpsbloggalacodingfunblogdevopse4bdbfe794a8cloudflare-pagese68998e7aea1e7bd91e7ab99">&lt;a class="link" href="https://blog.galacoding.fun/blog/devops/%E4%BD%BF%E7%94%A8cloudflare-pages%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99/" target="_blank" rel="noopener"
>使用CloudFlare Pages托管网站&lt;/a>&lt;/h3>
&lt;p>文章给出一个完美替代Github Pages的解决方案，CloudFlare Pages，基于CF稳定的全球CDN网络，与Git集成流水线，发布流程简单，功能丰富，同时更友好的大陆访问。&lt;/p>
&lt;h2 id="趣玩">趣玩&lt;/h2>
&lt;h3 id="实测虚拟信用卡与开通chatgpthttpsbloggalacodingfunblogmisce5ae9ee6b58be8999ae68b9fe4bfa1e794a8e58da1e4b88ee5bc80e9809achatgpt">&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/%E5%AE%9E%E6%B5%8B%E8%99%9A%E6%8B%9F%E4%BF%A1%E7%94%A8%E5%8D%A1%E4%B8%8E%E5%BC%80%E9%80%9Achatgpt/" target="_blank" rel="noopener"
>实测虚拟信用卡与开通ChatGPT&lt;/a>&lt;/h3>
&lt;p>作者实测虚拟信用卡，体验了OneKey Card和Limao Pay，一个是加密用户友好，一个是微信支付友好，都可以开通CharGPT。&lt;/p>
&lt;h3 id="搭建chatgpt与autogpthttpsbloggalacodingfunblogmisce690ade5bbbachatgpte4b88eautogpt">&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/%E6%90%AD%E5%BB%BAchatgpt%E4%B8%8Eautogpt/" target="_blank" rel="noopener"
>搭建ChatGPT与AutoGPT&lt;/a>&lt;/h3>
&lt;p>如果你拥有OpenAI的API，一定不可错过这两个开源项目，有了OpenAI的&lt;code>API Key&lt;/code>，你可以按照博客搭建自己的ChatGPT，使用AutoGPT自动解决问题，以及更多有意思的AI探索～&lt;/p>
&lt;h2 id="后记">后记&lt;/h2>
&lt;p>感觉AI真的会变成刚需，非常火热～怪不得所有自媒体都在恰AI，有流量就有money～&lt;/p></description></item><item><title>NAS折腾记2</title><link>https://blog.galacoding.fun/blog/devops/nas%E6%8A%98%E8%85%BE%E8%AE%B02/</link><pubDate>Mon, 12 Jun 2023 21:18:45 +0800</pubDate><guid>https://blog.galacoding.fun/blog/devops/nas%E6%8A%98%E8%85%BE%E8%AE%B02/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/jainath-ponnala-9wWX_jwDHeM-unsplash.jpg" alt="Featured image of post NAS折腾记2" />&lt;!----- [DevOps](/tags/DevOps) [NAS](/tags/NAS) [NUC12](/tags/NUC12) [linux](/tags/linux) [趣玩](/tags/趣玩) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;p>这是另一台NAS，我把专用设备换成了通用设备，可组合性提高不少，同时性能提升巨大～&lt;/p>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>终于又要折腾NAS了，上一次折腾还是上一次。。参考&lt;a class="link" href="https://blog.galacoding.fun/blog/devops/nas%E6%8A%98%E8%85%BE%E8%AE%B0/" >NAS折腾记&lt;/a>。这一次的主要原因是购买的云服务器性能不足，比如跑AutoGPT？之前的NAS性能也一般，主要是型号太老，想继续升级太难。&lt;/p>
&lt;p>正好在网上看到有人转卖自己的NUC11，我检索了下，NUC的mini主机系列非常适合做NAS，它设计出来会考虑用在工业制造领域，支持&lt;code>7*24&lt;/code>小时运行，而且性能非常可观。&lt;/p>
&lt;h2 id="硬件">硬件&lt;/h2>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230613215248.png"
loading="lazy"
alt="Pasted image 20230613215248.png"
>&lt;/p>
&lt;h3 id="主机">主机&lt;/h3>
&lt;p>经过对比决定购买&lt;a class="link" href="https://www.intel.cn/content/www/cn/zh/products/sku/121626/intel-nuc-12-pro-kit-nuc12wshi5/ordering.html" target="_blank" rel="noopener"
>NUC12WSHi5&lt;/a>，12核16线程，配置丰富，短时间内足够用。&lt;/p>
&lt;ul>
&lt;li>内存：金士顿 (Kingston) 32GB DDR4 3200 笔记本内存条；&lt;/li>
&lt;li>硬盘：西部数据（Western Digital）2TB SSD固态硬盘 M.2接口（NVMe协议），注意插好，避免主机无法识别；&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230614221613.png"
loading="lazy"
alt="Pasted image 20230614221613.png"
>&lt;/p>
&lt;h4 id="bios设置">Bios设置&lt;/h4>
&lt;p>主要设置：&lt;/p>
&lt;ol>
&lt;li>关闭WiFi和蓝牙功能，不用避免耗电；&lt;/li>
&lt;li>设置开机自启动，设置&lt;code>After Power Failure&lt;/code>为&lt;code>Last State&lt;/code>，也就是说断电后再上电如果断电前开机就直接开机，否则依然关机，也可以设置&lt;code>Power On&lt;/code>始终保持上电开机；&lt;/li>
&lt;/ol>
&lt;h4 id="系统">系统&lt;/h4>
&lt;p>无脑ubuntu，有人可能会问怎么不用群晖，因为我主要当服务器使用，顺便搭建一些NAS软件提供存储服务。安装最新版本&lt;a class="link" href="https://ubuntu.com/download/server" target="_blank" rel="noopener"
>Ubuntu Server 23.04&lt;/a>。&lt;/p>
&lt;p>一些参考资料：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.galacoding.fun/assets/Ubuntu.Server.CLI.pro.tips.19.04.22.pdf" >Ubuntu.Server.CLI.pro.tips.19.04.22.pdf&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.galacoding.fun/assets/ubuntu-server-guide-2023-06-11.pdf" >ubuntu-server-guide-2023-06-11.pdf&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="扩展vg存储">扩展vg存储&lt;/h4>
&lt;p>默认安装情况下，LVM只会占用足够的空间，可以使用&lt;code>lvextend&lt;/code>占用所有空间。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看磁盘空间使用情况&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 扩展所有vg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo resize2fs /dev/ubuntu-vg/ubuntu-lv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="安装25寸硬盘">安装2.5寸硬盘&lt;/h4>
&lt;p>如何安装2.5寸硬盘，参考如下，注意是安装在NUC拆下的背板，更多&lt;a class="link" href="https://manuals.plus/zh-CN/intel/nuc-12-pro-kit-manual" target="_blank" rel="noopener"
>指南参考&lt;/a>。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230625195309.png"
loading="lazy"
alt="Pasted image 20230625195309.png"
>&lt;/p>
&lt;h3 id="路由器">路由器&lt;/h3>
&lt;h4 id="设置无线ap">设置无线AP&lt;/h4>
&lt;p>家里的网络有点复杂，首先有一个电信入户的光猫，在客厅有一个无线路由器，在卧室还有一个无线路由器，现在的一个问题是每个无线路由器都会开一个子网相互设备无法访问，虽然都可以访问公网。现在需要把所有无线路由器修改为无线AP，这样就可以共享光猫一个网段。&lt;/p>
&lt;p>假设被共享网段的路由器是主路由器，对于一般的无线路由器，需要3个步骤成为无线AP：&lt;/p>
&lt;ol>
&lt;li>关闭路由器DHCP功能；&lt;/li>
&lt;li>在路由器LAN口设置，设置主路由器同网段任意未使用ip；&lt;/li>
&lt;li>连接路由器的LAN口道主路由器的LAN口，也就是当交换机使用了；&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230613215344.png"
loading="lazy"
alt="Pasted image 20230613215344.png"
>&lt;/p>
&lt;blockquote>
&lt;p>Note：小米或者红米路由器有一个有线中继模式，切换后直接变成无线AP。&lt;/p>
&lt;/blockquote>
&lt;p>参考资料：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://smb.tp-link.com.cn/service/detail_article_89.html" target="_blank" rel="noopener"
>多台路由器如何串联（级联）？&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://resource.tp-link.com.cn/pc/docCenter/showDoc?source=search&amp;amp;id=1655112585159408" target="_blank" rel="noopener"
>如何设置路由器当无线交换机使用&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.mi.com/service/miwifi/miwifi2/Repeater" target="_blank" rel="noopener"
>小米路由器-有线中继设置&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="绑定ip地址">绑定IP地址&lt;/h4>
&lt;p>为了避免设备频繁更换IP，可以在路由器侧绑定IP地址分配，同时无需手动更改本机IP。一般DHCP设置页面都可以修改。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230613214956.png"
loading="lazy"
alt="Pasted image 20230613214956.png"
>&lt;/p>
&lt;h3 id="硬盘柜">硬盘柜&lt;/h3>
&lt;p>NUC上的固态始终容量有限无法存储所有数据，之前的NAS还有两个硬盘，经过搜索发现硬盘柜可以解决我的需求～&lt;/p>
&lt;p>硬盘柜选择的 奥睿科(ORICO)硬盘柜多盘位3.5英寸USB3.0 这款，有以下原因：&lt;/p>
&lt;ul>
&lt;li>有风扇，因为硬盘的温度需要控制一下才能更稳定传输，如果没风扇硬盘会超级烫；&lt;/li>
&lt;li>支持10分钟无操作休眠；&lt;/li>
&lt;li>易安装，支持2.5寸/3.5寸；&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230614221151.png"
loading="lazy"
alt="Pasted image 20230614221151.png"
>&lt;/p>
&lt;h4 id="挂载新盘">挂载新盘&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看所有硬盘：&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lsblk -a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看磁盘空间使用情况&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看未挂载磁盘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo fdisk -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir /data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 挂载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mount /dev/sda /data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看设备uuid&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo blkid
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置开机自动挂载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim /etc/fstab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 按照格式填入挂载盘的uuid和挂载目录, 设置不会失败，超时9s，避免硬盘不再无法开机&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">UUID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;a22fe25c-304f-4989-9ca6-f2fcdb9342ef&amp;#34;&lt;/span> /data ext4 defaults,nofail,x-systemd.device-timeout&lt;span class="o">=&lt;/span>&lt;span class="m">9&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最终效果，&lt;strong>有线网络传输速度稳定在100MB/s&lt;/strong>，&lt;strong>WiFi传输峰值在60MB/s&lt;/strong>，WiFi偶尔掉速，随后需要升级全屋2.5G或万兆(包括路由器，交换机和网线)，WiFi升级为WiFi6，传输速度才会有进一步提升了。&lt;/p>
&lt;h2 id="服务端软件">服务端软件&lt;/h2>
&lt;h3 id="git">Git&lt;/h3>
&lt;p>一般server自带Git，也可以使用如下命令安装：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Git本地配置&lt;code>～/.gitconfig&lt;/code>参考如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[https]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">proxy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">http://127.0.0.1:7890/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">postBuffer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1048576000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">lowSpeedLimit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">lowSpeedTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">999999&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[http]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">proxy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">http://127.0.0.1:7890/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">postBuffer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">1048576000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">lowSpeedLimit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">lowSpeedTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">999999&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="wget">wget&lt;/h3>
&lt;p>wget命令一般是系统自带，这里介绍一下使用代理服务器的方式。&lt;/p>
&lt;p>首先修改wget环境变量：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim ~/.wgetrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>增加如下配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>You&lt;span class="o">](&lt;/span>/tags/You&lt;span class="o">)&lt;/span> can &lt;span class="nb">set&lt;/span> the default proxies &lt;span class="k">for&lt;/span> Wget to use &lt;span class="k">for&lt;/span> http, https, and ftp.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># They will override the value in the environment.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">https_proxy&lt;/span> &lt;span class="o">=&lt;/span> http://127.0.0.1:7890/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">http_proxy&lt;/span> &lt;span class="o">=&lt;/span> http://127.0.0.1:7890/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ftp_proxy&lt;/span> &lt;span class="o">=&lt;/span> http://127.0.0.1:7890/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># If you do not want to use proxy at all, set this to off.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># If you want to use proxy at all, set this to on.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">use_proxy&lt;/span> &lt;span class="o">=&lt;/span> off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>随后通过如下方式使用wget：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 不使用代理，默认不使用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://github.com/aria2/aria2/releases/download/release-1.36.0/aria2-1.36.0.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用代理&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -Y on https://github.com/aria2/aria2/releases/download/release-1.36.0/aria2-1.36.0.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nginx">Nginx&lt;/h3>
&lt;p>虽然NAS是本地服务器，但是不可避免会代理一些静态资源，或者转发一些http服务，所以Nginx也是NAS必备。&lt;/p>
&lt;p>安装非常简单：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完开始监听80端口，也可以进入配置项修改端口，增加代理资源等等。&lt;/p>
&lt;h3 id="aria2">aria2&lt;/h3>
&lt;p>&lt;a class="link" href="http://aria2.github.io/" target="_blank" rel="noopener"
>aria2&lt;/a>是一个非常强大的下载工具，支持多种下载协议，常见的HTTP/HTTPS，BT，FTP等等。&lt;/p>
&lt;h4 id="安装">安装&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install -y aria2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 卸载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt purge --autoremove -y aria2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="配置">配置&lt;/h4>
&lt;p>aria2有很多复杂的配置项，默认情况下，体验不是很好，比如重启任务丢失，BT下载慢等等。可以参考&lt;a class="link" href="https://github.com/P3TERX/aria2.conf" target="_blank" rel="noopener"
>aria2.conf&lt;/a>这个项目，是一个好的配置参考来源。&lt;/p>
&lt;p>当然可以根据实际情况调整，修改后的配置如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;span class="lnt">219
&lt;/span>&lt;span class="lnt">220
&lt;/span>&lt;span class="lnt">221
&lt;/span>&lt;span class="lnt">222
&lt;/span>&lt;span class="lnt">223
&lt;/span>&lt;span class="lnt">224
&lt;/span>&lt;span class="lnt">225
&lt;/span>&lt;span class="lnt">226
&lt;/span>&lt;span class="lnt">227
&lt;/span>&lt;span class="lnt">228
&lt;/span>&lt;span class="lnt">229
&lt;/span>&lt;span class="lnt">230
&lt;/span>&lt;span class="lnt">231
&lt;/span>&lt;span class="lnt">232
&lt;/span>&lt;span class="lnt">233
&lt;/span>&lt;span class="lnt">234
&lt;/span>&lt;span class="lnt">235
&lt;/span>&lt;span class="lnt">236
&lt;/span>&lt;span class="lnt">237
&lt;/span>&lt;span class="lnt">238
&lt;/span>&lt;span class="lnt">239
&lt;/span>&lt;span class="lnt">240
&lt;/span>&lt;span class="lnt">241
&lt;/span>&lt;span class="lnt">242
&lt;/span>&lt;span class="lnt">243
&lt;/span>&lt;span class="lnt">244
&lt;/span>&lt;span class="lnt">245
&lt;/span>&lt;span class="lnt">246
&lt;/span>&lt;span class="lnt">247
&lt;/span>&lt;span class="lnt">248
&lt;/span>&lt;span class="lnt">249
&lt;/span>&lt;span class="lnt">250
&lt;/span>&lt;span class="lnt">251
&lt;/span>&lt;span class="lnt">252
&lt;/span>&lt;span class="lnt">253
&lt;/span>&lt;span class="lnt">254
&lt;/span>&lt;span class="lnt">255
&lt;/span>&lt;span class="lnt">256
&lt;/span>&lt;span class="lnt">257
&lt;/span>&lt;span class="lnt">258
&lt;/span>&lt;span class="lnt">259
&lt;/span>&lt;span class="lnt">260
&lt;/span>&lt;span class="lnt">261
&lt;/span>&lt;span class="lnt">262
&lt;/span>&lt;span class="lnt">263
&lt;/span>&lt;span class="lnt">264
&lt;/span>&lt;span class="lnt">265
&lt;/span>&lt;span class="lnt">266
&lt;/span>&lt;span class="lnt">267
&lt;/span>&lt;span class="lnt">268
&lt;/span>&lt;span class="lnt">269
&lt;/span>&lt;span class="lnt">270
&lt;/span>&lt;span class="lnt">271
&lt;/span>&lt;span class="lnt">272
&lt;/span>&lt;span class="lnt">273
&lt;/span>&lt;span class="lnt">274
&lt;/span>&lt;span class="lnt">275
&lt;/span>&lt;span class="lnt">276
&lt;/span>&lt;span class="lnt">277
&lt;/span>&lt;span class="lnt">278
&lt;/span>&lt;span class="lnt">279
&lt;/span>&lt;span class="lnt">280
&lt;/span>&lt;span class="lnt">281
&lt;/span>&lt;span class="lnt">282
&lt;/span>&lt;span class="lnt">283
&lt;/span>&lt;span class="lnt">284
&lt;/span>&lt;span class="lnt">285
&lt;/span>&lt;span class="lnt">286
&lt;/span>&lt;span class="lnt">287
&lt;/span>&lt;span class="lnt">288
&lt;/span>&lt;span class="lnt">289
&lt;/span>&lt;span class="lnt">290
&lt;/span>&lt;span class="lnt">291
&lt;/span>&lt;span class="lnt">292
&lt;/span>&lt;span class="lnt">293
&lt;/span>&lt;span class="lnt">294
&lt;/span>&lt;span class="lnt">295
&lt;/span>&lt;span class="lnt">296
&lt;/span>&lt;span class="lnt">297
&lt;/span>&lt;span class="lnt">298
&lt;/span>&lt;span class="lnt">299
&lt;/span>&lt;span class="lnt">300
&lt;/span>&lt;span class="lnt">301
&lt;/span>&lt;span class="lnt">302
&lt;/span>&lt;span class="lnt">303
&lt;/span>&lt;span class="lnt">304
&lt;/span>&lt;span class="lnt">305
&lt;/span>&lt;span class="lnt">306
&lt;/span>&lt;span class="lnt">307
&lt;/span>&lt;span class="lnt">308
&lt;/span>&lt;span class="lnt">309
&lt;/span>&lt;span class="lnt">310
&lt;/span>&lt;span class="lnt">311
&lt;/span>&lt;span class="lnt">312
&lt;/span>&lt;span class="lnt">313
&lt;/span>&lt;span class="lnt">314
&lt;/span>&lt;span class="lnt">315
&lt;/span>&lt;span class="lnt">316
&lt;/span>&lt;span class="lnt">317
&lt;/span>&lt;span class="lnt">318
&lt;/span>&lt;span class="lnt">319
&lt;/span>&lt;span class="lnt">320
&lt;/span>&lt;span class="lnt">321
&lt;/span>&lt;span class="lnt">322
&lt;/span>&lt;span class="lnt">323
&lt;/span>&lt;span class="lnt">324
&lt;/span>&lt;span class="lnt">325
&lt;/span>&lt;span class="lnt">326
&lt;/span>&lt;span class="lnt">327
&lt;/span>&lt;span class="lnt">328
&lt;/span>&lt;span class="lnt">329
&lt;/span>&lt;span class="lnt">330
&lt;/span>&lt;span class="lnt">331
&lt;/span>&lt;span class="lnt">332
&lt;/span>&lt;span class="lnt">333
&lt;/span>&lt;span class="lnt">334
&lt;/span>&lt;span class="lnt">335
&lt;/span>&lt;span class="lnt">336
&lt;/span>&lt;span class="lnt">337
&lt;/span>&lt;span class="lnt">338
&lt;/span>&lt;span class="lnt">339
&lt;/span>&lt;span class="lnt">340
&lt;/span>&lt;span class="lnt">341
&lt;/span>&lt;span class="lnt">342
&lt;/span>&lt;span class="lnt">343
&lt;/span>&lt;span class="lnt">344
&lt;/span>&lt;span class="lnt">345
&lt;/span>&lt;span class="lnt">346
&lt;/span>&lt;span class="lnt">347
&lt;/span>&lt;span class="lnt">348
&lt;/span>&lt;span class="lnt">349
&lt;/span>&lt;span class="lnt">350
&lt;/span>&lt;span class="lnt">351
&lt;/span>&lt;span class="lnt">352
&lt;/span>&lt;span class="lnt">353
&lt;/span>&lt;span class="lnt">354
&lt;/span>&lt;span class="lnt">355
&lt;/span>&lt;span class="lnt">356
&lt;/span>&lt;span class="lnt">357
&lt;/span>&lt;span class="lnt">358
&lt;/span>&lt;span class="lnt">359
&lt;/span>&lt;span class="lnt">360
&lt;/span>&lt;span class="lnt">361
&lt;/span>&lt;span class="lnt">362
&lt;/span>&lt;span class="lnt">363
&lt;/span>&lt;span class="lnt">364
&lt;/span>&lt;span class="lnt">365
&lt;/span>&lt;span class="lnt">366
&lt;/span>&lt;span class="lnt">367
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 文件保存设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载目录。可使用绝对路径或相对路径, 默认: 当前启动位置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/data1/downloads&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 磁盘缓存, 0 为禁用缓存，默认:16M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 磁盘缓存的作用是把下载的数据块临时存储在内存中，然后集中写入硬盘，以减少磁盘 I/O ，提升读写性能，延长硬盘寿命。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 建议在有足够的内存空闲情况下适当增加，但不要超过剩余可用内存空间大小。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 此项值仅决定上限，实际对内存的占用取决于网速(带宽)和设备性能等其它因素。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">disk-cache&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">64M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 文件预分配方式, 可选：none, prealloc, trunc, falloc, 默认:prealloc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 预分配对于机械硬盘可有效降低磁盘碎片、提升磁盘读写性能、延长磁盘寿命。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 机械硬盘使用 ext4（具有扩展支持），btrfs，xfs 或 NTFS（仅 MinGW 编译版本）等文件系统建议设置为 falloc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 若无法下载，提示 fallocate failed.cause：Operation not supported 则说明不支持，请设置为 none&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># prealloc 分配速度慢, trunc 无实际作用，不推荐使用。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 固态硬盘不需要预分配，只建议设置为 none ，否则可能会导致双倍文件大小的数据写入，从而影响寿命。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># file-allocation=none&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 文件预分配大小限制。小于此选项值大小的文件不预分配空间，单位 K 或 M，默认：5M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">no-file-allocation-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">64M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 断点续传&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">continue&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 始终尝试断点续传，无法断点续传则终止下载，默认：true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">always-resume&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 不支持断点续传的 URI 数值，当 always-resume=false 时生效。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 达到这个数值从将头开始下载，值为 0 时所有 URI 不支持断点续传时才从头开始下载。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-resume-failure-tries&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 获取服务器文件时间，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">remote-time&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 进度保存设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 从会话文件中读取下载任务&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">input-file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/ubuntu/.aria2/aria2.session&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 会话文件保存路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Aria2 退出时或指定的时间间隔会保存`错误/未完成`的下载任务到会话文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">save-session&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/ubuntu/.aria2/aria2.session&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 任务状态改变后保存会话的间隔时间（秒）, 0 为仅在进程正常退出时保存, 默认:0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 为了及时保存任务状态、防止任务丢失，此项值只建议设置为 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">save-session-interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 自动保存任务进度到控制文件(*.aria2)的间隔时间（秒），0 为仅在进程正常退出时保存，默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 此项值也会间接影响从内存中把缓存的数据写入磁盘的频率&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 想降低磁盘 IOPS (每秒读写次数)则提高间隔时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 想在意外非正常退出时尽量保存更多的下载进度则降低间隔时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 非正常退出：进程崩溃、系统崩溃、SIGKILL 信号、设备断电等&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">auto-save-interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 强制保存，即使任务已完成也保存信息到会话文件, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 开启后会在任务完成后保留 .aria2 文件，文件被移除且任务存在的情况下重启后会重新下载。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 关闭后已完成的任务列表会在重启后清空。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">force-save&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 下载连接设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 文件未找到重试次数，默认:0 (禁用)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 重试时同时会记录重试次数，所以也需要设置 max-tries 这个选项&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-file-not-found&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最大尝试次数，0 表示无限，默认:5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-tries&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 重试等待时间（秒）, 默认:0 (禁用)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">retry-wait&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 连接超时时间（秒）。默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">connect-timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 超时时间（秒）。默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最大同时下载任务数, 运行时可修改, 默认:5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-concurrent-downloads&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 单服务器最大连接线程数, 任务添加时可指定, 默认:1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最大值为 16 (增强版无限制), 且受限于单任务最大连接线程数(split)所设定的值。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-connection-per-server&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 单任务最大连接线程数, 任务添加时可指定, 默认:5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">split&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 文件最小分段大小, 添加时可指定, 取值范围 1M-1024M (增强版最小值为 1K), 默认:20M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 比如此项值为 10M, 当文件为 20MB 会分成两段并使用两个来源下载, 文件为 15MB 则只使用一个来源下载。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 理论上值越小使用下载分段就越多，所能获得的实际线程数就越大，下载速度就越快，但受限于所下载文件服务器的策略。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">min-split-size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">4M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># HTTP/FTP 下载分片大小，所有分割都必须是此项值的倍数，最小值为 1M (增强版为 1K)，默认：1M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">piece-length&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">1M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 允许分片大小变化。默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># false：当分片大小与控制文件中的不同时将会中止下载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># true：丢失部分下载进度继续下载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">allow-piece-length-change&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最低下载速度限制。当下载速度低于或等于此选项的值时关闭连接（增强版本为重连），此选项与 BT 下载无关。单位 K 或 M ，默认：0 (无限制)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">lowest-speed-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 全局最大下载速度限制, 运行时可修改, 默认：0 (无限制)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-overall-download-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 单任务下载速度限制, 默认：0 (无限制)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-download-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 禁用 IPv6, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">disable-ipv6&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># GZip 支持，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">http-accept-gzip&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># URI 复用，默认: true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">reuse-uri&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 禁用 netrc 支持，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">no-netrc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 允许覆盖，当相关控制文件(.aria2)不存在时从头开始重新下载。默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">allow-overwrite&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 文件自动重命名，此选项仅在 HTTP(S)/FTP 下载中有效。新文件名在名称之后扩展名之前加上一个点和一个数字（1..9999）。默认:true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">auto-file-renaming&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用 UTF-8 处理 Content-Disposition ，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">content-disposition-default-utf8&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最低 TLS 版本，可选：TLSv1.1、TLSv1.2、TLSv1.3 默认:TLSv1.2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#min-tls-version=TLSv1.2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## BT/PT 下载设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 监听端口(TCP), 默认:6881-6999&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 直通外网的设备，比如 VPS ，务必配置防火墙和安全组策略允许此端口入站&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 内网环境的设备，比如 NAS ，除了防火墙设置，还需在路由器设置外网端口转发到此端口&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">listen-port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">51413&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># DHT 网络与 UDP tracker 监听端口(UDP), 默认:6881-6999&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 因协议不同，可以与 BT 监听端口使用相同的端口，方便配置防火墙和端口转发策略。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dht-listen-port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">51413&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 IPv4 DHT 功能, PT 下载(私有种子)会自动禁用, 默认:true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">enable-dht&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 IPv6 DHT 功能, PT 下载(私有种子)会自动禁用，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 在没有 IPv6 支持的环境开启可能会导致 DHT 功能异常&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">enable-dht6&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 指定 BT 和 DHT 网络中的 IP 地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用场景：在家庭宽带没有公网 IP 的情况下可以把 BT 和 DHT 监听端口转发至具有公网 IP 的服务器，在此填写服务器的 IP ，可以提升 BT 下载速率。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#bt-external-ip=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># IPv4 DHT 文件路径，默认：$HOME/.aria2/dht.dat&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dht-file-path&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/ubuntu/.aria2/dht.dat&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># IPv6 DHT 文件路径，默认：$HOME/.aria2/dht6.dat&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dht-file-path6&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/ubuntu/.aria2/dht6.dat&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># IPv4 DHT 网络引导节点&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dht-entry-point&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">dht.transmissionbt.com:6881&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># IPv6 DHT 网络引导节点&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">dht-entry-point6&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">dht.transmissionbt.com:6881&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 本地节点发现, PT 下载(私有种子)会自动禁用 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-enable-lpd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 指定用于本地节点发现的接口，可能的值：接口，IP地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果未指定此选项，则选择默认接口。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#bt-lpd-interface=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用节点交换, PT 下载(私有种子)会自动禁用, 默认:true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">enable-peer-exchange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 下载最大连接数（单任务），运行时可修改。0 为不限制，默认:55&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 理想情况下连接数越多下载越快，但在实际情况是只有少部分连接到的做种者上传速度快，其余的上传慢或者不上传。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果不限制，当下载非常热门的种子或任务数非常多时可能会因连接数过多导致进程崩溃或网络阻塞。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 进程崩溃：如果设备 CPU 性能一般，连接数过多导致 CPU 占用过高，因资源不足 Aria2 进程会强制被终结。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 网络阻塞：在内网环境下，即使下载没有占满带宽也会导致其它设备无法正常上网。因远古低性能路由器的转发性能瓶颈导致。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-max-peers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">128&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 下载期望速度值（单任务），运行时可修改。单位 K 或 M 。默认:50K&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 下载速度低于此选项值时会临时提高连接数来获得更快的下载速度，不过前提是有更多的做种者可供连接。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 实测临时提高连接数没有上限，但不会像不做限制一样无限增加，会根据算法进行合理的动态调节。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-request-peer-speed-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 全局最大上传速度限制, 运行时可修改, 默认:0 (无限制)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置过低可能影响 BT 下载速度&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-overall-upload-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">2M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 单任务上传速度限制, 默认:0 (无限制)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">max-upload-limit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最小分享率。当种子的分享率达到此选项设置的值时停止做种, 0 为一直做种, 默认:1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 强烈建议您将此选项设置为大于等于 1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">seed-ratio&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 最小做种时间（分钟）。设置为 0 时将在 BT 任务下载完成后停止做种。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">seed-time&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 做种前检查文件哈希, 默认:true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-hash-check-seed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 继续之前的BT任务时, 无需再次校验, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-seed-unverified&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT tracker 服务器连接超时时间（秒）。默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 建立连接后，此选项无效，将使用 bt-tracker-timeout 选项的值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-tracker-connect-timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT tracker 服务器超时时间（秒）。默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-tracker-timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 服务器连接间隔时间（秒）。默认：0 (自动)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#bt-tracker-interval=0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 下载优先下载文件开头或结尾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-prioritize-piece&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">head=32M,tail=32M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 保存通过 WebUI(RPC) 上传的种子文件(.torrent)，默认:true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 所有涉及种子文件保存的选项都建议开启，不保存种子文件有任务丢失的风险。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 通过 RPC 自定义临时下载目录可能不会保存种子文件。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-save-upload-metadata&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载种子文件(.torrent)自动开始下载, 默认:true，可选：false|mem&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># true：保存种子文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># false：仅下载种子文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># mem：将种子保存在内存中&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">follow-torrent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 种子文件下载完后暂停任务，默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 在开启 follow-torrent 选项后下载种子文件或磁力会自动开始下载任务进行下载，而同时开启当此选项后会建立相关任务并暂停。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">pause-metadata&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 保存磁力链接元数据为种子文件(.torrent), 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-save-metadata&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 加载已保存的元数据文件(.torrent)，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-load-saved-metadata&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 删除 BT 下载任务中未选择文件，默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-remove-unselected-file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT强制加密, 默认: false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用后将拒绝旧的 BT 握手协议并仅使用混淆握手及加密。可以解决部分运营商对 BT 下载的封锁，且有一定的防版权投诉与迅雷吸血效果。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 此选项相当于后面两个选项(bt-require-crypto=true, bt-min-crypto-level=arc4)的快捷开启方式，但不会修改这两个选项的值。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-force-encryption&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT加密需求，默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用后拒绝与旧的 BitTorrent 握手协议(\19BitTorrent protocol)建立连接，始终使用混淆处理握手。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#bt-require-crypto=true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT最低加密等级，可选：plain（明文），arc4（加密），默认：plain&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#bt-min-crypto-level=arc4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 分离仅做种任务，默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 从正在下载的任务中排除已经下载完成且正在做种的任务，并开始等待列表中的下一个任务。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">bt-detach-seed-only&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 客户端伪装 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 自定义 User Agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">user-agent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36 Edg/93.0.961.47&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 客户端伪装&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># PT 下载需要保持 user-agent 和 peer-agent 两个参数一致&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 部分 PT 站对 Aria2 有特殊封禁机制，客户端伪装不一定有效，且有封禁账号的风险。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#user-agent=Deluge 1.3.15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">peer-agent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Deluge 1.3.15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">peer-id-prefix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">-DE13F0-&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 执行额外命令 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载停止后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 从 正在下载 到 删除、错误、完成 时触发。暂停被标记为未开始下载，故与此项无关。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-download-stop=/home/ubuntu/.aria2/delete.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载完成后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 此项未定义则执行 下载停止后执行的命令 (on-download-stop)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-download-complete=/home/ubuntu/.aria2/clean.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载错误后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 此项未定义则执行 下载停止后执行的命令 (on-download-stop)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-download-error=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载暂停后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-download-pause=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载开始后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-download-start=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># BT 下载完成后执行的命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#on-bt-download-complete=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## RPC 设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 JSON-RPC/XML-RPC 服务器, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">enable-rpc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 接受所有远程请求, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-allow-origin-all&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 允许外部访问, 默认:false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-listen-all&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># RPC 监听端口, 默认:6800&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-listen-port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">6800&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># RPC 密钥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-secret&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">P3TERX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># RPC 最大请求大小&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">rpc-max-request-size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># RPC 服务 SSL/TLS 加密, 默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用加密后必须使用 https 或者 wss 协议连接&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 不推荐开启，建议使用 web server 反向代理，比如 Nginx、Caddy ，灵活性更强。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#rpc-secure=false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 在 RPC 服务中启用 SSL/TLS 加密时的证书文件(.pem/.crt)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#rpc-certificate=/home/ubuntu/.aria2/xxx.pem&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件(.key)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#rpc-private-key=/home/ubuntu/.aria2/xxx.key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 事件轮询方式, 可选：epoll, kqueue, port, poll, select, 不同系统默认值不同&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#event-poll=select&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 高级选项 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用异步 DNS 功能。默认：true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#async-dns=true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 指定异步 DNS 服务器列表，未指定则从 /etc/resolv.conf 中读取。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#async-dns-server=119.29.29.29,223.5.5.5,8.8.8.8,1.1.1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 指定单个网络接口，可能的值：接口，IP地址，主机名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果接口具有多个 IP 地址，则建议指定 IP 地址。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 已知指定网络接口会影响依赖本地 RPC 的连接的功能场景，即通过 localhost 和 127.0.0.1 无法与 Aria2 服务端进行讯通。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#interface=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 指定多个网络接口，多个值之间使用逗号(,)分隔。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 使用 interface 选项时会忽略此项。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#multiple-interface=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 日志设置 ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 日志文件保存路径，忽略或设置为空为不保存，默认：不保存&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#log=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 日志级别，可选 debug, info, notice, warn, error 。默认：debug&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#log-level=warn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 控制台日志级别，可选 debug, info, notice, warn, error ，默认：notice&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">console-log-level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">notice&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安静模式，禁止在控制台输出日志，默认：false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">quiet&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载进度摘要输出间隔时间（秒），0 为禁止输出。默认：60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">summary-interval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## BitTorrent trackers ##&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># bt-tracker=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将其保存在&lt;code>$HOME/.aria2/aria2.conf&lt;/code>即可。另外需要将&lt;a class="link" href="https://github.com/P3TERX/aria2.conf" target="_blank" rel="noopener"
>aria2.conf&lt;/a>的&lt;code>dht.dat&lt;/code>和&lt;code>dht6.dat&lt;/code>保存到&lt;code>$HOME/.aria2/&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget -Y on https://github.com/P3TERX/aria2.conf/raw/master/dht.dat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -Y on https://github.com/P3TERX/aria2.conf/raw/master/dht6.dat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch aria2.session
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>增加systemd配置&lt;code>aria2.service&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">aria2 - The ultra fast download utility&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target nss-lookup.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">User&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ubuntu&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">NoNewPrivileges&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">aria2c --conf-path= /home/ubuntu/.aria2/aria2.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">on-failure&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">RestartSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">LimitNOFILE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">infinity&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启动服务：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo cp aria2.service /etc/systemd/system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> aria2.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start aria2.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl status aria2.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="webui">WebUI&lt;/h4>
&lt;p>强烈推荐使用WebUI来管理aria2的任务，因为很多任务下载耗时，多任务管理也更有优势。&lt;a class="link" href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener"
>AriaNg&lt;/a>是一个洁面简洁的管理面板，安装也很简单：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 下载资源&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -Y on https://github.com/mayswind/AriaNg/releases/download/1.3.6/AriaNg-1.3.6-AllInOne.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unzip AriaNg-1.3.6-AllInOne.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 直接复制到nginx的默认静态资源页面即可&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mkdir /var/www/html/AriaNg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp index.html /var/www/html/AriaNg/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>好的，现在直接访问NAS服务即可，比如&lt;code>http://192.168.31.3/AriaNg&lt;/code>。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230614214332.png"
loading="lazy"
alt="Pasted image 20230614214332.png"
>&lt;/p>
&lt;h5 id="未认证unauthorized">未认证/Unauthorized&lt;/h5>
&lt;p>这是因为你没有输入正确aria2的RPC密码，该密码通过配置项&lt;code>rpc-secret&lt;/code>修改。AriaNg可以在&lt;code>AriaNg设置-&amp;gt;RPC&lt;/code>处修改，如图：&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230614215046.png"
loading="lazy"
alt="Pasted image 20230614215046.png"
>&lt;/p>
&lt;h3 id="samba">Samba&lt;/h3>
&lt;p>NAS上Samba必备，用于Mac，window访问你的服务器文件系统，共建资料，备份数据等。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装samba服务器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install samba samba-common
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建一个用于分享的samba目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mkdir /home/ubuntu/share
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># donot forgot to add user to samba&amp;#39;s database&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo smbpasswd -a ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 配置samba的配置文件, 确保共享的文件夹该用户有权限即可&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim /etc/samba/smb.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 重启samba服务器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo service smbd restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[data1]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">comment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">share folder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">browseable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/data1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">create mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0777&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">directory mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0777&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">valid users&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">force user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">force group&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">public&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">available&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">writable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[data2]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">comment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">share folder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">browseable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/data2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">create mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0777&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">directory mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0777&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">valid users&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">force user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">force group&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">ghome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">public&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">available&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">writable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">yes&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一些资料：&lt;/p>
&lt;ul>
&lt;li>&lt;code>如何正确使用Samba&lt;/code>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/samba-team/samba" target="_blank" rel="noopener"
>https://github.com/samba-team/samba&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://wiki.samba.org/index.php/FAQ" target="_blank" rel="noopener"
>https://wiki.samba.org/index.php/FAQ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://wiki.samba.org/index.php/User_Documentation" target="_blank" rel="noopener"
>https://wiki.samba.org/index.php/User_Documentation&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.linuxidc.com/Linux/2018-11/155466.htm" target="_blank" rel="noopener"
>https://www.linuxidc.com/Linux/2018-11/155466.htm&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>实测虚拟信用卡与开通ChatGPT</title><link>https://blog.galacoding.fun/blog/misc/%E5%AE%9E%E6%B5%8B%E8%99%9A%E6%8B%9F%E4%BF%A1%E7%94%A8%E5%8D%A1%E4%B8%8E%E5%BC%80%E9%80%9Achatgpt/</link><pubDate>Sat, 10 Jun 2023 18:56:56 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/%E5%AE%9E%E6%B5%8B%E8%99%9A%E6%8B%9F%E4%BF%A1%E7%94%A8%E5%8D%A1%E4%B8%8E%E5%BC%80%E9%80%9Achatgpt/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/cardmapr-nl-s8F8yglbpjo-unsplash.jpg" alt="Featured image of post 实测虚拟信用卡与开通ChatGPT" />&lt;!----- [ChatGPT](/tags/ChatGPT) [Web3](/tags/Web3) [趣玩](/tags/趣玩) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>办理虚拟信用卡的目的主要是开通ChatGPT，因为OpenAI的限制在中国是无法直接访问ChatGPT，同时也无法继续使用OpenAI的API。&lt;/p>
&lt;p>OpenAI的API才是大杀器，可以让你实现自己ChatGPT或者搭建AutoGPT。最开始的时候申请了一个试用期，大概额度是18$，目前已经到期，所以亟需开通付费，倒是chatGPT Plus不着急开通。&lt;/p>
&lt;h2 id="虚拟信用卡">虚拟信用卡&lt;/h2>
&lt;p>虚拟信用卡其实就是没有实体卡而已，一般就是办理Visa或者Mastercard，经过检索，找到几个不错的虚拟信用卡供应商。202306月份OneKey Card新增美国Viasa卡，推荐使用OneKey Card。&lt;/p>
&lt;h3 id="limaopay">LimaoPay&lt;/h3>
&lt;p>这个&lt;a class="link" href="https://www.limaopay.com/register/#/register?codes=DpMXg5cW" target="_blank" rel="noopener"
>LimaoPay&lt;/a>是在B站上看到的，体验了下是一个简易的供应商，需要&lt;strong>实名注册和人脸验证&lt;/strong>。好在提供的信用卡好段丰富，选择一个美国号段信用开卡即可。&lt;/p>
&lt;p>比较坑的是手续费，每次充值都会有手续费，人民币转美元还有一次手续费收取，开卡也有费用。充值250元人民币，兑换33.33元美元。美元兑换汇率&lt;code>7.1988&lt;/code>，是在&lt;code>2023-06-09&lt;/code>。在线充值手续费4%。&lt;/p>
&lt;p>值得一提是，充值目前只支持微信支付，对国内比较友好。&lt;/p>
&lt;h4 id="开卡">开卡&lt;/h4>
&lt;p>可以开&lt;code>559666&lt;/code>卡段的美国虚拟卡，注意是预付制信用卡，亲测可以使用ChatGPT，卡费有&lt;code>1.5$&lt;/code>，首次充值最少&lt;code>20$&lt;/code>。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230610150239.png"
loading="lazy"
alt="Pasted image 20230610150239.png"
>&lt;/p>
&lt;p>开卡过程很简单，值得说明是选填信息的开卡国家可以不用填。&lt;/p>
&lt;h4 id="风险提示">风险提示&lt;/h4>
&lt;p>该供应商比较小众，切勿大额充值，如果平台运营稳定，可以使用很久，如果出现问题也需要迁移到其他虚拟信用卡平台，所以切勿大额充值。&lt;/p>
&lt;h3 id="onekey-card">OneKey Card&lt;/h3>
&lt;p>之前在网上搜到&lt;a class="link" href="https://card.onekey.so/?i=J0NTH2" target="_blank" rel="noopener"
>OneKey Card&lt;/a>可以支持ChatGPT订阅，但是现在官网显示已经不可以了，实测也是被拒。注册需要&lt;strong>实名制+人脸认证&lt;/strong>。&lt;/p>
&lt;p>OneKey Card比较有特点的是只能使用虚拟货币充值，信用卡只有香港卡段。&lt;/p>
&lt;h4 id="开卡-1">开卡&lt;/h4>
&lt;p>有两个香港卡段，花美元多建议&lt;code>493&lt;/code>卡段，注意是预付制信用卡。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230610151513.png"
loading="lazy"
alt="Pasted image 20230610151513.png"
>&lt;/p>
&lt;p>充值实测，转账&lt;code>31$&lt;/code>，卡费&lt;code>1$&lt;/code>，卡余额&lt;code>29.38$&lt;/code>。充值手续费&lt;code>1.95%&lt;/code>，最低充值&lt;code>30$&lt;/code>，如果充值USDT有一点点汇率相对于USDC而言。&lt;/p>
&lt;p>消费为非USD时有&lt;code>1.25%&lt;/code>货币转换费，也就是说人民币消费场景时你的消费力打折&lt;code>3.17%&lt;/code>，包含充值手续费+转换费。境外消费时可以用一下。&lt;/p>
&lt;blockquote>
&lt;p>Note: 其实在区块链网络发送稳定币也是要交易费的，不过这个费用是固定的不是按百分比收取，且不同交易所和网络转账费用不同。&lt;/p>
&lt;/blockquote>
&lt;h4 id="20230614更新">20230614更新&lt;/h4>
&lt;p>&lt;a class="link" href="https://card.onekey.so/?i=J0NTH2" target="_blank" rel="noopener"
>OneKey Card&lt;/a>增加美国优选卡，可以支持ChatGPT / OpenAI充值啦～开卡和之前一样，非常简单。同时费率不变，参考之前的计算结果。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230614163449.png"
loading="lazy"
alt="Pasted image 20230614163449.png"
>&lt;/p>
&lt;h3 id="其他供应商">其他供应商&lt;/h3>
&lt;p>在其他文章也找到一些虚拟信用卡的供应商，比如比较知名的Qbit Visa，Payoneer，但是需要企业开户或者需要境外网店入账100美元，操作复杂度更高，暂时放弃。&lt;/p>
&lt;p>Depay很多网友反馈也可以付费ChatGPT，但是目前停止新用户注册，无法实测。&lt;/p>
&lt;h2 id="付费chatgpt">付费ChatGPT&lt;/h2>
&lt;p>根据上线实测，使用&lt;a class="link" href="https://card.onekey.so/?i=J0NTH2" target="_blank" rel="noopener"
>OneKey Card&lt;/a>或&lt;a class="link" href="https://www.limaopay.com/register/#/register?codes=DpMXg5cW" target="_blank" rel="noopener"
>LimaoPay&lt;/a>可以付费成功。&lt;/p>
&lt;p>本文章只介绍OpenAI的API付费，ChatGPT Plus应该是一样的。登陆&lt;a class="link" href="https://platform.openai.com/account/billing/payment-methods" target="_blank" rel="noopener"
>OpenAI Platform&lt;/a>网址，找到&lt;code>Billing-&amp;gt;Payment methods&lt;/code>，点击&lt;code>Add payment method&lt;/code>。&lt;/p>
&lt;p>由于使用新加坡的IP，所以在&lt;a class="link" href="https://www.meiguodizhi.com/sg-address" target="_blank" rel="noopener"
>这个网站&lt;/a>生成新加坡的虚拟地址填入表单。&lt;/p>
&lt;blockquote>
&lt;p>Note: 如果采用虚拟卡进行开通，部分虚拟卡开通的时候会随机生成一个地址，如果这个时候为大家提供了地址，我们就可以直接使用这个虚拟地址，使用起来非常的方便。&lt;/p>
&lt;p>如果虚拟信用卡并会向大家提供相应的地址，我们可以尝试生成地址，接下来只需要直接填写就可以，操作起来非常的简单。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230610152942.png"
loading="lazy"
alt="Pasted image 20230610152942.png"
>&lt;/p>
&lt;p>申请时候信用卡的ZIP直接拷贝生成地址的邮编，点击Submit即可。添加成功后会直接扣款&lt;code>5$&lt;/code>，随后按照使用额度付费。&lt;/p>
&lt;blockquote>
&lt;p>Note: 对于个人使用场景，20$真的可以使用很久了～&lt;/p>
&lt;/blockquote>
&lt;h3 id="获得api-secret">获得API Secret&lt;/h3>
&lt;p>在&lt;a class="link" href="https://platform.openai.com/account/api-keys" target="_blank" rel="noopener"
>API Keys&lt;/a>页面可以查到所有Keys，也可以生成新的Key，注意保存，不要随便暴露，如果发现你的Key被滥用及时删除。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230610161403.png"
loading="lazy"
alt="Pasted image 20230610161403.png"
>&lt;/p>
&lt;blockquote>
&lt;p>Note: 目前API无法使用&lt;code>GPT-4&lt;/code>，需要加入Waitlist，或者等公测，最新的就是&lt;code>gpt-3.5-turbo&lt;/code>。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>搭建ChatGPT与AutoGPT</title><link>https://blog.galacoding.fun/blog/misc/%E6%90%AD%E5%BB%BAchatgpt%E4%B8%8Eautogpt/</link><pubDate>Sat, 10 Jun 2023 15:55:43 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/%E6%90%AD%E5%BB%BAchatgpt%E4%B8%8Eautogpt/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/ilgmyzin-agFmImWyPso-unsplash.jpg" alt="Featured image of post 搭建ChatGPT与AutoGPT" />&lt;!----- [GPT](/tags/GPT) [趣玩](/tags/趣玩) [linux](/tags/linux) [ChatGPT](/tags/ChatGPT) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>国内使用ChatGPT必须套壳，所以今天介绍两个壳，同时扩展出了新的AI能力，不止是ChatGPT。&lt;/p>
&lt;p>参考：&lt;a class="link" href="https://www.bilibili.com/video/BV1so4y1M7oA/" target="_blank" rel="noopener"
>ChatGPT割韭菜？我只服国产套壳！&lt;/a>，&lt;a class="link" href="https://www.bilibili.com/video/BV1Fm4y1m7DH/" target="_blank" rel="noopener"
>AutoGPT确实很强！全自动Ai一分钟部署！&lt;/a>&lt;/p>
&lt;h2 id="chatgpt-web">ChatGPT-Web&lt;/h2>
&lt;p>这是一个ChatGPT的国内套壳&lt;a class="link" href="https://github.com/Chanzhaoyu/chatgpt-web" target="_blank" rel="noopener"
>ChatGPT-Web&lt;/a>，支持两种模式：&lt;/p>
&lt;ol>
&lt;li>使用代理通过accessToken防伪ChatGPT，因为国内无法访问，需要连接代理服务器用自己的session访问；&lt;/li>
&lt;li>使用OpenAI的API模拟一个ChatGPT，没有专门为Chat场景优化，程序设置简单role和上下文开启对话；&lt;/li>
&lt;/ol>
&lt;h3 id="部署">部署&lt;/h3>
&lt;p>部署很简单，我使用的OpenAI的API方式，直接docker-compose部署，配置文件如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">chenzhaoyu94/chatgpt-web&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 总是使用 latest ,更新时重新 pull 该 tag 镜像即可&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="m">3002&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">3002&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># DEBUG: &amp;#34;express:*&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">OPENAI_API_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sk-**********&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># API接口地址，可选，设置 OPENAI_API_KEY 时可用&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># OPENAI_API_BASE_URL: xxx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># API模型，可选，设置 OPENAI_API_KEY 时可用，https://platform.openai.com/docs/models&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># gpt-4, gpt-4-0314, gpt-4-32k, gpt-4-32k-0314, gpt-3.5-turbo, gpt-3.5-turbo-0301, text-davinci-003, text-davinci-002, cod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># e-davinci-002&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">OPENAI_API_MODEL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gpt-3.5-turbo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># 反向代理，可选&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># API_REVERSE_PROXY: xxx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># 访问权限密钥，可选&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># AUTH_SECRET_KEY: gyjyx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># 每小时最大请求次数，可选，默认无限&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MAX_REQUEST_PER_HOUR&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># 超时，单位毫秒，可选&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">TIMEOUT_MS&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">60000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Socks代理，可选，和 SOCKS_PROXY_PORT 一起时生效&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># SOCKS_PROXY_HOST: 172.17.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Socks代理端口，可选，和 SOCKS_PROXY_HOST 一起时生效&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># SOCKS_PROXY_PORT: 7890&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># HTTPS 代理，可选，支持 http，https，socks5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># HTTPS_PROXY: http://172.17.0.1:7890&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>注意国内服务器使用请打开代理模式。docker部署时，注意ip地址应该是宿主机ip。&lt;/p>
&lt;/blockquote>
&lt;h3 id="体验">体验&lt;/h3>
&lt;p>体验很糟糕，可能是网络环境问题？在体验过程中频繁遇到&lt;code>chay-process&lt;/code>API的&lt;code>pending&lt;/code>问题，十分影响体验。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/Pasted%20image%2020230610161715.png"
loading="lazy"
alt="Pasted image 20230610161715.png"
>&lt;/p>
&lt;p>有能力的小伙伴可以自行维护一个fork版本，界面还是不错的。&lt;/p>
&lt;h3 id="fork版本">fork版本&lt;/h3>
&lt;p>还有一个该项目的fork版本，&lt;a class="link" href="https://github.com/Kerwin1202/chatgpt-web" target="_blank" rel="noopener"
>chatgpt-web&lt;/a>。该版本没有尝试，更适合做商业化，增加了用户管理。&lt;/p>
&lt;h2 id="autogpt-next-web">AutoGPT-Next-Web&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/Dogtiti/AutoGPT-Next-Web" target="_blank" rel="noopener"
>AutoGPT-Next-Web&lt;/a>是一个将AutoGPT Web化的服务，部署也很简单，因为docker image的问题，拉取镜像部署失败，选择手动部署。&lt;/p>
&lt;h3 id="部署-1">部署&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/ConnectAI-E/AutoGPT-Next-Web.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm install v18.12.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm use v18.12.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim .env
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./prisma/useSqlite.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create database migrations&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DATABASE_URL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;file:./db.sqlite&amp;#34;&lt;/span> npx prisma db push
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DATABASE_URL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;file:./db.sqlite&amp;#34;&lt;/span> npm run dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>环境变量在&lt;code>.env&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Deployment Environment:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NODE_ENV&lt;/span>&lt;span class="o">=&lt;/span>development
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>http://127.0.0.1:7890
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>http://127.0.0.1:7890
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">all_proxy&lt;/span>&lt;span class="o">=&lt;/span>socks5://127.0.0.1:7890
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Next Auth config:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Generate a secret with `openssl rand -base64 32` or visit https://generate-secret.vercel.app/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NEXTAUTH_SECRET&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;jhonh7OKRzZc0ESHUI5eRSvy8sa3woPV7sGmcm8Fkl0=&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NEXTAUTH_URL&lt;/span>&lt;span class="o">=&lt;/span>http://chatgpt.xx.xx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DATABASE_URL&lt;/span>&lt;span class="o">=&lt;/span>file:./db.sqlite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NEXT_PUBLIC_WEB_SEARCH_ENABLED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span> &lt;span class="o">[&lt;/span>true&lt;span class="o">](&lt;/span>/tags/true&lt;span class="o">)&lt;/span> or &lt;span class="nb">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">SERP_API_KEY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Your open api key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">OPENAI_API_KEY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;sk-********&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="体验-1">体验&lt;/h3>
&lt;p>体验还可以，任务会自动拆分然后执行给出结果，但是很多结果显示不全只有一小部分，需要研究下。&lt;/p>
&lt;h2 id="agentgpt">AgentGPT&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/reworkd/AgentGPT" target="_blank" rel="noopener"
>AgentGPT&lt;/a>是另一个AutoGPT的助手，web版本的，部署非常简单。&lt;/p>
&lt;h3 id="部署-2">部署&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/reworkd/AgentGPT.git &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">cd&lt;/span> AgentGPT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./setup.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Note: 注意非常吃资源。。。云服务器需要好的配置，测试了下2c2g不太行，大概率是内存太小了，建议本地部署本地使用。&lt;/p>
&lt;/blockquote>
&lt;h2 id="auto-gpt">Auto-GPT&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/Significant-Gravitas/Auto-GPT" target="_blank" rel="noopener"
>Auto-GPT&lt;/a>本地命令版，没有好的界面。&lt;a class="link" href="https://docs.agpt.co/setup/" target="_blank" rel="noopener"
>部署参考&lt;/a>。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>Obsidia笔记如何同步？</title><link>https://blog.galacoding.fun/blog/misc/obsidia%E7%AC%94%E8%AE%B0%E5%A6%82%E4%BD%95%E5%90%8C%E6%AD%A5/</link><pubDate>Thu, 31 Mar 2022 21:03:38 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/obsidia%E7%AC%94%E8%AE%B0%E5%A6%82%E4%BD%95%E5%90%8C%E6%AD%A5/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220330233357.png" alt="Featured image of post Obsidia笔记如何同步？" />&lt;!----- [obsidian](/tags/obsidian) [知识管理](/tags/知识管理) [效率](/tags/效率) [笔记同步](/tags/笔记同步) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;blockquote>
&lt;p>摘要：如果使用S3同步笔记太痛苦，不如尝试使用Git服务同步吧。&lt;/p>
&lt;/blockquote>
&lt;h2 id="笔记同步">笔记同步&lt;/h2>
&lt;p>从云笔记迁移到开源笔记产品后，对于写笔记的体验和效率提升确实巨大。不过对于提供收费服务的产品来说，有一些服务时开源笔记无法提供。其中一点就是笔记同步。&lt;/p>
&lt;p>笔记同步的需求主要在于，你可能会在多台设备阅读或者编辑笔记，这时候需要保持多设备之间的数据一致。&lt;/p>
&lt;p>当前主流的几种同步方式，无非是S3、云存储、git等。我折腾的目的就是使用开源自建的服务，所以第一个尝试的就是S3。&lt;/p>
&lt;h2 id="使用s3">使用S3&lt;/h2>
&lt;p>&lt;a class="link" href="https://aws.amazon.com/cn/s3/" target="_blank" rel="noopener"
>S3&lt;/a> 来源于AWS的对象存储服务，后来作为一个标准协议，出现很多云服务商、开源软件的S2兼容协议API，所以你可以发现S3出现在各种有关存储的地方，应用已经比较广泛了。&lt;/p>
&lt;h3 id="minio搭建">MinIO搭建&lt;/h3>
&lt;p>&lt;a class="link" href="https://docs.min.io/" target="_blank" rel="noopener"
>MinIO&lt;/a>是一个开源对象服务器，使用Go实现，可以兼容AWS S3 Api，可以用来同步笔记内容，随后也可以再一次性同步回自己的Nas做北非，线上S3同步参考&lt;a class="link" href="https://rclone.org/" target="_blank" rel="noopener"
>RClone&lt;/a>。&lt;/p>
&lt;p>执行如下命令部署MinIO：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget https://dl.min.io/server/minio/release/linux-amd64/minio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x minio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MINIO_ROOT_USER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">test&lt;/span> &lt;span class="nv">MINIO_ROOT_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">test&lt;/span> ./minio server ./ --console-address &lt;span class="s2">&amp;#34;:9001&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>随后你会得到如下输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">API: http://172.22.0.15:9000 http://127.0.0.1:9000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Console: http://172.22.0.15:9001 http://127.0.0.1:9001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个是admin用户，可以直接作为key和secret访问。&lt;/p>
&lt;h3 id="tls配置">TLS配置&lt;/h3>
&lt;p>为了可以在android和mac同时使用，最好有域名，并且申请好TLS证书，否则无法使用(&lt;a class="link" href="https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted" target="_blank" rel="noopener"
>android升级后必须使用安全的协议&lt;/a>、&lt;a class="link" href="https://www.tacit.dk/foldersync/faq/#i-can-not-connect-to-a-non-https-webdav-server-why" target="_blank" rel="noopener"
>I can not connect to a non-HTTPS WebDav server. Why?&lt;/a>)。你可以使用nginx代理https，转发到http端口。&lt;/p>
&lt;blockquote>
&lt;p>注意MinIO不支持http/2，千万别在代理配置的时候打开http/2，我折腾好久，差点折在这。。。&lt;/p>
&lt;/blockquote>
&lt;h3 id="手机端同步">手机端同步&lt;/h3>
&lt;p>搭建好S3服务器后，需要对应的客户端搭配。在android手机端，推荐使用foldersync免费版。&lt;/p>
&lt;p>打开软件，建立账户，并使用如下配置。&lt;/p>
&lt;blockquote>
&lt;p>注意自定义端点的&lt;code>/&lt;/code>要保留。随后在同步设置时选择对应的bucket文件夹。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Access key ID: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Secret access key: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">自定义端点：https://s3.xxxxx.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">区域：随便选一个
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="obsidian插件配置">Obsidian插件配置&lt;/h3>
&lt;p>除了使用S3客户端，同时可以在Obsidian安装&lt;code>Remotely Save&lt;/code>插件，进行同步。&lt;/p>
&lt;p>配置如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">S3Endpoint：https://s3.xxxxx.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3Region: us
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3AccessKeyID: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3SecretAccessKey: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3BucketName: bj
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置完成后，check一下。如果显示成功，随后就可以配置定期备份。&lt;/p>
&lt;h3 id="s3同步缺点">S3同步缺点&lt;/h3>
&lt;p>S3解决了文件在多设备同步问题，但是无法记录文件的重命名、移动等等，所以如果对笔记的文件夹修改，S3服务端无法感知，导致旧文件和新文件同时存在。&lt;/p>
&lt;p>同样的如果在多设备对同一文件进行修改，出现冲突也是非常头疼。如果你存在这种场景S3并不是最优解。&lt;/p>
&lt;h2 id="使用git">使用Git&lt;/h2>
&lt;p>对于存在多设备修改进行同步的场景，Git服务同步更适合你，而不是S3服务。对于Git服务如何应用在Obsidian笔记同步，有一篇文章介绍&lt;a class="link" href="https://medium.com/analytics-vidhya/how-i-put-my-mind-under-version-control-24caea37b8a5" target="_blank" rel="noopener"
>Obsidian的Git同步原理&lt;/a>。&lt;/p>
&lt;p>简单理解就是，现在本地建立好仓库，每次更新笔记使用&lt;code>git commit -m&lt;/code>变成一次提交，并上传&lt;code>git push&lt;/code>。在其他设备需要修改时，先&lt;code>git pull&lt;/code>拉取远程更新，如果出现冲突，进行修改并再次提交即可。&lt;/p>
&lt;h3 id="建立仓库">建立仓库&lt;/h3>
&lt;p>推荐使用Github或者其他私有Git服务来同步笔记，毕竟是隐私数据，需要做好保护。&lt;/p>
&lt;p>需要注意的是忽略文件，避免提交不必要的数据，导致频繁冲突。我使用的&lt;code>.gitignore&lt;/code>文件如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">.obsidian/cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.obsidian/workspace
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.trash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.DS_Store
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="插件推荐">插件推荐&lt;/h3>
&lt;p>上节提到的文件，介绍Git同步的原理，需要不断上传和拉取。在Obsidian的插件市场，有一款可以代替你执行-&lt;a class="link" href="https://github.com/denolehov/obsidian-git" target="_blank" rel="noopener"
>Obsidian的Git插件&lt;/a>。&lt;/p>
&lt;p>该插件可以设置定时提交和拉取，同时指定提交信息、分支、同步模式等等，确实够用了。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220327224705.png"
loading="lazy"
alt="2022_03_20220327224705.png"
>&lt;/p>
&lt;h3 id="使用体验">使用体验&lt;/h3>
&lt;p>使用Git同步后，对文件夹修改、文件重命名、修改内容等再也不会担心会冲突，也不存在需要对本地和远程同时修改的情况。完美解决我的需求，赞！&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>Obsidian看板指北</title><link>https://blog.galacoding.fun/blog/misc/obsidian%E7%9C%8B%E6%9D%BF%E6%8C%87%E5%8C%97/</link><pubDate>Thu, 31 Mar 2022 21:02:47 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/obsidian%E7%9C%8B%E6%9D%BF%E6%8C%87%E5%8C%97/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220330233357.png" alt="Featured image of post Obsidian看板指北" />&lt;!----- [obsidian](/tags/obsidian) [知识管理](/tags/知识管理) [效率](/tags/效率) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;blockquote>
&lt;p>摘要：你还在使用checkbox管理任务么？改用看板吧！&lt;/p>
&lt;/blockquote>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>之前笔记管理任务主要使用checkbox，能解决很多问题，记录任务是否完成，哪些是当前在做的，哪些是延后的。&lt;/p>
&lt;p>然而当你的任务变得更多多，而且时间跨度非常大、任务下记录的内容也越多，这时使用简单的列表不好管理。&lt;/p>
&lt;p>经过一段时间摸索，在Obsidian中，可以利用双链和看板来进行管理。&lt;/p>
&lt;h2 id="看板插件">看板插件&lt;/h2>
&lt;p>首先从Obsidian的插件市场中，搜索&lt;code>kanban&lt;/code>，下载看板插件。默认配置其实比较难看，需要对配置进行优化。可以参考如下截图：&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220222124145.png"
loading="lazy"
alt="2022_02_20220222124145.png"
>
&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220222125054.png"
loading="lazy"
alt="2022_02_20220222125054.png"
>&lt;/p>
&lt;p>如果有未列出的配置，可以使用默认设置。&lt;/p>
&lt;h2 id="看板记录原则">看板记录原则&lt;/h2>
&lt;p>本节主要是我对任务管理的一些心得，可以供大家参考。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220222125027.png"
loading="lazy"
alt="2022_02_20220222125027.png"
>&lt;/p>
&lt;h3 id="按任务进度分类">按任务进度分类&lt;/h3>
&lt;p>任务管理使用看板，记录==规划中==、==进行中==、==已完成==、==延后==四种任务，已完成需要记录完成时间。&lt;/p>
&lt;h3 id="使用标签标记">使用标签标记&lt;/h3>
&lt;ul>
&lt;li>重要紧急四象限&lt;/li>
&lt;/ul>
&lt;p>使用p11表示紧急重要，p12紧急不重要，p21不紧急重要，p22不紧急不重要来表示，标签数量会少一些。&lt;/p>
&lt;ul>
&lt;li>计划时间&lt;/li>
&lt;/ul>
&lt;p>&lt;code>#年-月&lt;/code>表示几月份计划，&lt;code>#年-月-week&lt;/code>表示第几周计划，&lt;code>#年-月-日&lt;/code>表示第几天计划&lt;/p>
&lt;ul>
&lt;li>任务类别&lt;/li>
&lt;/ul>
&lt;p>&lt;code>#类别&lt;/code>表示哪种类型任务，比如后端，读书等等&lt;/p>
&lt;blockquote>
&lt;p>一个基础任务最少一类标签，即必须具有类别标签；
在执行中的至少3类标签，表示紧急重要程度、计划时间、任务类别；&lt;/p>
&lt;/blockquote>
&lt;h3 id="完成记录时间">完成记录时间&lt;/h3>
&lt;p>在拖拽到==已完成==列时，需要设置当前日期，用来记录完成时间。&lt;/p>
&lt;h3 id="任务链接">任务链接&lt;/h3>
&lt;p>最好不要在看板增加复杂的描述，推荐使用双链笔记，讲具体的任务描述和跟进写在具体笔记中。&lt;/p>
&lt;h2 id="快速实践">快速实践&lt;/h2>
&lt;h3 id="使用命令">使用命令&lt;/h3>
&lt;p>在命令面板中搜索&lt;code>kanban&lt;/code>，可以找到快速创建看板，转换已有笔记为看板的快捷键。&lt;/p>
&lt;h3 id="创建模板">创建模板&lt;/h3>
&lt;p>可以使用我创建的模板。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-md" data-lang="md">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kanban-plugin: basic
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## 规划中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">- [ ]&lt;/span> [&lt;span class="nt">p11&lt;/span>](&lt;span class="na">/tags/p11&lt;/span>) [&lt;span class="nt">工作&lt;/span>](&lt;span class="na">/tags/工作&lt;/span>) &lt;span class="ni">#2022&lt;/span>-02 &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>测试规划
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## 进行中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">- [ ]&lt;/span> [&lt;span class="nt">p11&lt;/span>](&lt;span class="na">/tags/p11&lt;/span>) [&lt;span class="nt">工作&lt;/span>](&lt;span class="na">/tags/工作&lt;/span>) &lt;span class="ni">#2022&lt;/span>-02 &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>测试进行中
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## 已完成
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ge">**&lt;/span>完成**
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">- [ ]&lt;/span> [&lt;span class="nt">p11&lt;/span>](&lt;span class="na">/tags/p11&lt;/span>) [&lt;span class="nt">工作&lt;/span>](&lt;span class="na">/tags/工作&lt;/span>) &lt;span class="ni">#2022&lt;/span>-02 &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>测试已完成 @{2022-02-22}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## 延后
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">- [ ]&lt;/span> [&lt;span class="nt">p11&lt;/span>](&lt;span class="na">/tags/p11&lt;/span>) [&lt;span class="nt">工作&lt;/span>](&lt;span class="na">/tags/工作&lt;/span>) &lt;span class="ni">#2022&lt;/span>-02 &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>测试延后
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%% kanban:settings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{&amp;#34;kanban-plugin&amp;#34;:&amp;#34;basic&amp;#34;}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%%
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="编辑卡片">编辑卡片&lt;/h3>
&lt;ul>
&lt;li>新增卡片&lt;/li>
&lt;/ul>
&lt;p>在每一列下有一个按钮，可以快速新增卡片，同时可以在已有卡片选择复制。&lt;/p>
&lt;ul>
&lt;li>编辑卡片&lt;/li>
&lt;/ul>
&lt;p>直接在卡片上双击即可进入编辑。&lt;/p>
&lt;ul>
&lt;li>添加标签&lt;/li>
&lt;/ul>
&lt;p>在编辑时，输入&lt;code>#&lt;/code>紧跟标签名，即可创建标签。&lt;/p>
&lt;ul>
&lt;li>卡片拖拽&lt;/li>
&lt;/ul>
&lt;p>直接点击卡片不放即可在各个列拖拽卡片。&lt;/p>
&lt;ul>
&lt;li>添加日志&lt;/li>
&lt;/ul>
&lt;p>在卡片右侧，选择插入日期即可。&lt;/p>
&lt;h3 id="快捷键">快捷键&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>功能&lt;/th>
&lt;th>备注&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>shift+enter&lt;/code>&lt;/td>
&lt;td>卡片换行&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>#&lt;/code>&lt;/td>
&lt;td>插入标签&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="使用dataview">使用dataview&lt;/h3>
&lt;p>可以使用使用dataview来查看笔记数据。具体不介绍了。&lt;/p>
&lt;h2 id="总结">总结&lt;/h2>
&lt;p>现有任务慢慢迁移到新的看板中，比trello任务管理优势，本地管理，双链方便，离线记录，私有化更安全。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>Obsidian模板指北</title><link>https://blog.galacoding.fun/blog/misc/obsidian%E6%A8%A1%E6%9D%BF%E6%8C%87%E5%8C%97/</link><pubDate>Thu, 31 Mar 2022 21:01:42 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/obsidian%E6%A8%A1%E6%9D%BF%E6%8C%87%E5%8C%97/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220330233357.png" alt="Featured image of post Obsidian模板指北" />&lt;!----- [obsidian](/tags/obsidian) [效率](/tags/效率) [知识管理](/tags/知识管理) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;blockquote>
&lt;p>摘要：如果你经常写笔记，你一定需要笔记模板。&lt;/p>
&lt;/blockquote>
&lt;p>Obsidian的模板可以极大提高工作效率。可以在常用的场景，比如笔记、灵感等快速插入固定格式，你只需要关注内容记录即可。&lt;/p>
&lt;h2 id="模板环境">模板环境&lt;/h2>
&lt;p>Obsidian官方的核心插件就支持模板的功能，无需下载额外的插件。&lt;/p>
&lt;h3 id="启用模板">启用模板&lt;/h3>
&lt;p>在Obsidian的设置中，选择&lt;code>核心插件-&amp;gt;模板&lt;/code>，打开模板插件。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220327230149.png"
loading="lazy"
alt="2022_03_20220327230149.png"
>&lt;/p>
&lt;h3 id="配置">配置&lt;/h3>
&lt;p>一般模板的配置无需修改，当然你可以根据自己的需求进行改动。推荐配置如下：&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220327230248.png"
loading="lazy"
alt="2022_03_20220327230248.png"
>&lt;/p>
&lt;h2 id="模板实践">模板实践&lt;/h2>
&lt;p>下面介绍一下，如何使用模板提高你的协作效率。&lt;/p>
&lt;h3 id="编辑模板">编辑模板&lt;/h3>
&lt;p>在上节你配置的模板目录中，可以新建一篇笔记，这篇笔记就可以作为模板插入到任意笔记中。&lt;/p>
&lt;p>可以提供给你的替换变量有：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">标题 -&amp;gt; &lt;span class="o">{{&lt;/span>title&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">日期 -&amp;gt; &lt;span class="o">{{&lt;/span>date&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">时间 -&amp;gt; &lt;span class="o">{{&lt;/span>time&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果你编写的模板笔记为：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {{title}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">日期：&lt;span class="o">{{&lt;/span>date&lt;span class="o">}}&lt;/span> 时间：&lt;span class="o">{{&lt;/span>time&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当你在名为&lt;code>Golang编程入门.md&lt;/code>的笔记中插入上述模板时，会替换为如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Golang编程入门&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">日期：2022-03-27 时间：23:00
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>现在你已经入门Obsidian的模板使用了。&lt;/p>
&lt;h3 id="命令面板">命令面板&lt;/h3>
&lt;p>现在你需要学习如何在笔记中插入模板，可以唤起&lt;code>命令面板&lt;/code>，输入&lt;code>模板&lt;/code>就可以找到&lt;code>插入模板&lt;/code>命令，然后弹出所有模板进行选择即可。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220327231120.png"
loading="lazy"
alt="2022_03_20220327231120.png"
>&lt;/p>
&lt;h2 id="模板推荐">模板推荐&lt;/h2>
&lt;p>下面有一些我自用的模板供大家参考，有需自取。&lt;/p>
&lt;h3 id="灵感">灵感&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## {{title}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">日期: &lt;span class="o">{{&lt;/span>date&lt;span class="o">}}&lt;/span> 时间: &lt;span class="o">{{&lt;/span>time&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="笔记">笔记&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {{title}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; 日期：&lt;span class="o">{{&lt;/span>date&lt;span class="o">}}&lt;/span> 时间：&lt;span class="o">{{&lt;/span>time&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="c1">#tmp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 大纲&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="看板">看板&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kanban-plugin: basic
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 规划中&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- &lt;span class="o">[&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>p11&lt;span class="o">](&lt;/span>/tags/p11&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>工作&lt;span class="o">](&lt;/span>/tags/工作&lt;span class="o">)&lt;/span> &lt;span class="c1">#2022-02 &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;测试规划&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 进行中&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 已完成&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">**完成**
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- &lt;span class="o">[&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>p11&lt;span class="o">](&lt;/span>/tags/p11&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>工作&lt;span class="o">](&lt;/span>/tags/工作&lt;span class="o">)&lt;/span> &lt;span class="c1">#2022-02 &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;测试已完成 @{2022-02-22}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## 延后&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%% kanban:settings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;kanban-plugin&amp;#34;&lt;/span>:&lt;span class="s2">&amp;#34;basic&amp;#34;&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%%
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>Git部署与使用</title><link>https://blog.galacoding.fun/blog/coding/git%E9%83%A8%E7%BD%B2%E4%B8%8E%E4%BD%BF%E7%94%A8/</link><pubDate>Thu, 31 Mar 2022 21:00:22 +0800</pubDate><guid>https://blog.galacoding.fun/blog/coding/git%E9%83%A8%E7%BD%B2%E4%B8%8E%E4%BD%BF%E7%94%A8/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220330232734.png" alt="Featured image of post Git部署与使用" />&lt;!----- [笔记同步](/tags/笔记同步) [趣玩](/tags/趣玩) [Git](/tags/Git) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;blockquote>
&lt;p>摘要：当你有自己的服务器，同时期望私有化进行版本管理内容 or 代码，部署自己的Git服务器是一个绝佳选择。&lt;/p>
&lt;/blockquote>
&lt;h2 id="背景">背景&lt;/h2>
&lt;p>之前折腾笔记同步，虽然已经有S3可以在不同设备同步内容，但是对于不同设备同时修改或者出现编辑冲突时，使用S3变成噩梦，无法处理这种情况。&lt;/p>
&lt;p>这时候Git作为版本化管理工具，可以完美解决这种问题。同时本着折腾的精神，决定在自己的云服务器部署Git服务，而不是使用Github的免费私有仓库。&lt;/p>
&lt;blockquote>
&lt;p>选择自建服务还有两点：1.基于github的国内的访问速度；2.对私有数据的隐私保护；&lt;/p>
&lt;/blockquote>
&lt;h2 id="服务端搭建">服务端搭建&lt;/h2>
&lt;h3 id="git服务器部署">Git服务器部署&lt;/h3>
&lt;p>在Git服务器选项方面，采用&lt;a class="link" href="https://gogs.io/" target="_blank" rel="noopener"
>gogs&lt;/a>，gogs是使用Go开发的Git服务器，自带Web UI管理界面，非常赞。&lt;/p>
&lt;p>部署的话自然是使用&lt;code>docker&lt;/code>，部署方便之极，依赖docker和docker-compose，安装的自行找资料吧，比较简单。&lt;/p>
&lt;p>下面是docker-compos.yaml配置，gogs容器需要挂载整个&lt;code>/data&lt;/code>目录，来保存生成的数据。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gogs_db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mysql&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;./mysql/data:/var/lib/mysql&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;./mysql/conf.d:/etc/mysql/conf.d&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mysqld --lower_case_table_names=1 --character-set-server=utf8mb4 --collation-server=utf8mb4_general_ci&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_USER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gogs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">123456&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_ROOT_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">123456&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_DATABASE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gogs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">gogs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gogs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">depends_on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker.io/gogs/gogs:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;10022:22&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;13000:3000&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">./gogs/:/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>注意&lt;code>mysql 8.0&lt;/code>后root用户登录密码采用加密验证了，所以建议新增一个专用的账户来登录mysql，而不是使用root登录。&lt;/p>
&lt;/blockquote>
&lt;p>在docker-compose.yaml的目录，执行如下命令启动服务：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="设置域名">设置域名&lt;/h3>
&lt;p>强烈建议设置域名使用你的git服务，同时启用https。当前android等系统已经要求访问链接必须是https。&lt;/p>
&lt;p>我的服务就设置了对应https访问，命名可以做个参考：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">https://git.xxx.com -&amp;gt; localhost:13000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://gitssh.xxx.com -&amp;gt; localhost:10022
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="git服务器初始化">Git服务器初始化&lt;/h3>
&lt;p>启动后访问&lt;code>http://127.0.0.1:13000&lt;/code>，启动后页面初始化，注意填写数据库主机时使用docker的container作为ip即可。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220220104648.png"
loading="lazy"
alt="2022_02_20220220104648.png"
>&lt;/p>
&lt;p>应用设置的时候，填写相应的域名。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220220104848.png"
loading="lazy"
alt="2022_02_20220220104848.png"
>&lt;/p>
&lt;p>点击最下面的立即安装，等待片刻。安装成功后可以登录，并创建你的仓库。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220327214948.png"
loading="lazy"
alt="2022_03_20220327214948.png"
>&lt;/p>
&lt;h2 id="客户端">客户端&lt;/h2>
&lt;p>如何从Git服务拉取仓库，并同步本地更改呢？下面介绍几个操作系统的客户端。&lt;/p>
&lt;h3 id="winmac客户端">Win/Mac客户端&lt;/h3>
&lt;p>对于PC操作系统来说，git安装非常方便。访问&lt;a class="link" href="https://git-scm.com/downloads" target="_blank" rel="noopener"
>git官网&lt;/a>就有安装教程。&lt;/p>
&lt;h3 id="android客户端">Android客户端&lt;/h3>
&lt;p>对于android来说，目前也有一些选择，我使用的是&lt;a class="link" href="https://github.com/maks/MGit" target="_blank" rel="noopener"
>MGit&lt;/a>。体验还可以，如果是私有仓库会记住你的账户密码进行拉取。&lt;/p>
&lt;h2 id="总结">总结&lt;/h2>
&lt;p>Git服务搭建好后，可以非常方便应对类似笔记这种，内容变化后各设备同步的场景。以后除了同步笔记外，还可以作为个人私有代码仓库使用。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>如何导出为知笔记？</title><link>https://blog.galacoding.fun/blog/misc/%E5%A6%82%E4%BD%95%E5%AF%BC%E5%87%BA%E4%B8%BA%E7%9F%A5%E7%AC%94%E8%AE%B0/</link><pubDate>Thu, 31 Mar 2022 20:58:28 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/%E5%A6%82%E4%BD%95%E5%AF%BC%E5%87%BA%E4%B8%BA%E7%9F%A5%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220328001409.png" alt="Featured image of post 如何导出为知笔记？" />&lt;!----- [obsidian](/tags/obsidian) [知识管理](/tags/知识管理) [笔记同步](/tags/笔记同步) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;blockquote>
&lt;p>摘要：如何在闭源软件中导出自己的笔记呢？现在成为一个值得研究的课题- -&lt;/p>
&lt;/blockquote>
&lt;p>使用付费服务的笔记导出就是在和闭源软件做斗争，&lt;code>为知笔记&lt;/code>有点恶心了，新版本很难导出。在调研时发现，为知对于私有部署是可以使用官方提供的迁移工具的，感兴趣的小伙伴可以研究下。&lt;/p>
&lt;h3 id="旧版win客户端导出">旧版Win客户端导出&lt;/h3>
&lt;p>使用&lt;code>4.13.33&lt;/code>版本的为知Win客户端，只支持单个文件的md导出，不支持批量，但是我的笔记有500多篇。根本不可能单个导出，而且还没有快捷键，操作一个md的导出复杂和耗时不敢想象。&lt;/p>
&lt;p>经过搜索，发现很多人都是导出为html作为数据备份，如果html可以满足需求的话，使用该版本分别对文件夹导出即可。&lt;/p>
&lt;p>还有一个信息，该版本的客户端将所有笔记保存在&lt;code>文档/My Knowledge/data/user&lt;/code>目录下，所有的笔记是可以zip方式解压，然后看到资源文件和html。&lt;/p>
&lt;h3 id="memocast客户端">Memocast客户端&lt;/h3>
&lt;p>随后搜索到&lt;a class="link" href="https://github.com/TankNee/Memocast" target="_blank" rel="noopener"
>Memocast&lt;/a>，是重写为知笔记的客户端，而且支持批量导出md，简直福音。但是最后使用效果导出后图片的路径是&lt;code>Memocast://xxxx&lt;/code>，开玩笑么。。。随后看github的issue作者已经解决了，但是需要进一步反馈问题或者调试代码。&lt;/p>
&lt;h3 id="使用openapi">使用OpenAPI&lt;/h3>
&lt;p>为知笔记提供了&lt;code>OpenAPI&lt;/code>来查看和编辑笔记，Memocast也是类似方式，&lt;a class="link" href="https://www.wiz.cn/wapp/pages/book/bb8f0f10-48ca-11ea-b27a-ef51fb9d4bb4/700c0ba0-48cb-11ea-a61a-d3d58d67def9" target="_blank" rel="noopener"
>服务说明及登录&lt;/a>和&lt;a class="link" href="https://www.wiz.cn/wapp/pages/book/bb8f0f10-48ca-11ea-b27a-ef51fb9d4bb4/475c9ef0-4e1a-11ea-8f5c-a7618da01da2" target="_blank" rel="noopener"
>笔记接口&lt;/a>介绍了如何登录获取Token，如何查询文件夹文档，下载html，下载资源(图片)等接口。&lt;/p>
&lt;blockquote>
&lt;p>对于为知笔记来说，所有的笔记保存为html，所以下载后需要做转换。&lt;/p>
&lt;/blockquote>
&lt;p>通过&lt;code>Postman&lt;/code>的接口测试发现完全可行，那么就可以编程导出了。具体的&lt;a class="link" href="https://github.com/GalaIO/wiz_export" target="_blank" rel="noopener"
>代码&lt;/a>。html转md的库使用&lt;a class="link" href="https://github.com/JohannesKaufmann/html-to-markdown" target="_blank" rel="noopener"
>html-to-markdown&lt;/a>，案例代码&lt;a class="link" href="https://github.com/JohannesKaufmann/html-to-markdown/blob/master/examples/github_flavored/main.go" target="_blank" rel="noopener"
>在这&lt;/a>。&lt;/p>
&lt;p>如何使用？按照下面提示输入账户和密码，然后设置导出的文件夹即可。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">go install github.com/GalaIO/wiz_export@latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wiz_export --output &lt;span class="s1">&amp;#39;./&amp;#39;&lt;/span> --userId &lt;span class="s1">&amp;#39;xx&amp;#39;&lt;/span> --password &lt;span class="s1">&amp;#39;xx&amp;#39;&lt;/span> --folders &lt;span class="s1">&amp;#39;/日记/,/工作/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>目前从为知导出的脚本有几个问题，有空再解决 &lt;a class="link" href="https://blog.galacoding.fun/tags/TODO" >TODO&lt;/a> ：
1.对于新版本生成的笔记，导出会显示版本过低
2.对于某些md转换的链接，脚本匹配错误，没有下载图片资源
3.附件资源未下载，随后检查并下载全部的附件资源&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>个人笔记新解-Obsidian</title><link>https://blog.galacoding.fun/blog/misc/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E6%96%B0%E8%A7%A3-obsidian/</link><pubDate>Mon, 21 Mar 2022 20:50:29 +0800</pubDate><guid>https://blog.galacoding.fun/blog/misc/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E6%96%B0%E8%A7%A3-obsidian/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/2022_03_20220321124411.png" alt="Featured image of post 个人笔记新解-Obsidian" />&lt;!----- [obsidian](/tags/obsidian) [知识管理](/tags/知识管理) [效率](/tags/效率) [笔记同步](/tags/笔记同步) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;p>现有笔记太难用了，如何使用新的工具破局。自己之前一直在使用为知笔记，体验越来越糟糕。主要有几个原因：&lt;/p>
&lt;ol>
&lt;li>为知笔记的编辑器很难用，尤其是对md的支持很差；&lt;/li>
&lt;li>最近有备份需求，但是为知笔记新版本竟然去掉导出文件夹功能，对自己的笔记安全存在担心；&lt;/li>
&lt;li>一直在找可以写公众号的方式，至少一键复制到公众号，而为知笔记的使用体验太差了；&lt;/li>
&lt;li>搜索功能可以当做没有，好多次搜索文章没搜出来；&lt;/li>
&lt;li>没有笔记发现和关联功能，不好做笔记整理和知识积累；&lt;/li>
&lt;/ol>
&lt;p>经过一段时间调研决定使用新的笔记软件，具体是以&lt;code>本地笔记+线上博客+自建服务&lt;/code>的形式完成笔记的记录同步和发表，重在折腾。&lt;/p>
&lt;h2 id="本地笔记-obsidian">本地笔记-Obsidian&lt;/h2>
&lt;p>&lt;a class="link" href="https://obsidian.md/" target="_blank" rel="noopener"
>Obsidian&lt;/a>笔记主要使用markdown格式，通过本地文件管理笔记，支持即时预览，同时支持知识管理。更重要的是Obsidian是一个免费的开源笔记，丰富的社区生态让Obsidian变得非常实用，有很多分享软件的使用方法，分享好用的插件。&lt;/p>
&lt;h3 id="笔记管理">笔记管理&lt;/h3>
&lt;p>记笔记是Obsidian最基本的功能，具体使用可以参考文章&lt;a class="link" href="https://sspai.com/post/62414" target="_blank" rel="noopener"
>玩转 Obsidian 01：打造知识循环利器&lt;/a>。以markdown格式为主笔记也是好用的。&lt;/p>
&lt;h3 id="todo任务">ToDo任务&lt;/h3>
&lt;p>详见&lt;a class="link" href="https://medium.com/geekculture/how-i-track-my-tasks-in-obsidian-47fd7ad80364" target="_blank" rel="noopener"
>参考&lt;/a>，使用Todo插件可以非常简单创建Todo，添加优先级，记录完成时间。&lt;/p>
&lt;h3 id="笔记同步">笔记同步&lt;/h3>
&lt;p>这个功能摸索是最痛苦的，因为喜欢折腾，所以收费的官方同步服务是不会使用的- -。&lt;/p>
&lt;p>最开始选择的方案是WebDav，分为向mac+android同步。但是obsidian的三方插件的webdav太差劲了，根本没法用，手机采用foldersync需要设置https才能使用webdav(&lt;a class="link" href="https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted" target="_blank" rel="noopener"
>android升级后必须使用安全的协议&lt;/a>、&lt;a class="link" href="https://www.tacit.dk/foldersync/faq/#i-can-not-connect-to-a-non-https-webdav-server-why" target="_blank" rel="noopener"
>I can not connect to a non-HTTPS WebDav server. Why?&lt;/a>)。&lt;/p>
&lt;p>经过长期折腾后决定采用，S3作为存储服务，手机使用&lt;code>foldersync&lt;/code>同步，mac使用三方插件&lt;code>Remotely Save&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>突然发现市面上针对S3的产品还挺多呀，生态丰富！！中间准备使用几个重量的方案，比如nextCloud等，而syncthing也不好用，设备不在一个子网下面，速度感人。幸好S3折腾成功了。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>但是用过一段时间S3也发现几个问题，首先是笔记的整理，比如重命名、移动位置，无法应用到S3上，导致笔记重复在多个位置。而且还存在一个编辑冲突的问题，如果多设备修改存在冲突怎么办？所以决定改为Git，也有三方插件支持。&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/obsidia%E7%AC%94%E8%AE%B0%E5%A6%82%E4%BD%95%E5%90%8C%E6%AD%A5/" >Obsidia笔记如何同步？&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h3 id="网页剪辑">网页剪辑&lt;/h3>
&lt;p>网页剪辑的功能非常重要，主要是对文章可以下载进行存档，obsidian是纯粹的markdown的文本记录，所以最好剪辑成markdown的格式，推荐插件&lt;a class="link" href="https://chrome.google.com/webstore/detail/markdown-clipper/cjedbglnccaioiolemnfhjncicchinao" target="_blank" rel="noopener"
>markdown-clipper&lt;/a>可以直接下载，非常适合obsidian。&lt;/p>
&lt;h3 id="表格">表格&lt;/h3>
&lt;p>日常比较依赖表格做数据分类，obsidian对表格的支持不是很好，目前的实时预览是不支持表格的。所以能不使用表格就不用了，必要时可以拉起Typora来编辑表格。&lt;/p>
&lt;h2 id="本地笔记-joplin笔记httpsjoplinapporg">本地笔记-&lt;a class="link" href="https://joplinapp.org/" target="_blank" rel="noopener"
>Joplin笔记&lt;/a>&lt;/h2>
&lt;p>因为目前Obsidian的网页剪辑太难用了，所以使用Joplin来替代&lt;a class="link" href="https://joplinapp.org/clipper/" target="_blank" rel="noopener"
>网页剪辑&lt;/a>和本地软件同步的功能，两个都可以用于主力笔记编辑。&lt;/p>
&lt;p>不过obsidian有知识管理和即时预览功能，Joplin的生态工具更丰富。不过随后都辛苦解决了。目前主用obsidian。&lt;/p>
&lt;h2 id="线上博客">线上博客&lt;/h2>
&lt;p>线上博客主要是分享文章，之前已经调研过一个博客，使用体验尚可，同时编辑器支持一键复制到公众号和知乎，还是很友好的。开源博客&lt;a class="link" href="https://github.com/88250/pipe" target="_blank" rel="noopener"
>pipe&lt;/a>。搭建也比较简单，推荐使用docker搭建。&lt;/p>
&lt;p>随后所有的博客都沉淀在pipe和公众号。本地笔记更多是非公开的工作日志内容。&lt;/p>
&lt;h2 id="自建服务-s3">自建服务-S3&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.min.io/" target="_blank" rel="noopener"
>MinIO&lt;/a>是对象服务器，可以兼容aws s3 api，用来做同步中转的，随后再一次性同步回自己的Nas即可，线上S3同步参考&lt;a class="link" href="https://rclone.org/" target="_blank" rel="noopener"
>RClone&lt;/a>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget https://dl.min.io/server/minio/release/linux-amd64/minio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x minio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MINIO_ROOT_USER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">test&lt;/span> &lt;span class="nv">MINIO_ROOT_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">test&lt;/span> ./minio server ./ --console-address &lt;span class="s2">&amp;#34;:9001&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>会得到如下输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">API: http://172.22.0.15:9000 http://127.0.0.1:9000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Console: http://172.22.0.15:9001 http://127.0.0.1:9001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个是admin用户，可以直接作为key和secret访问。&lt;/p>
&lt;h3 id="tls配置">TLS配置&lt;/h3>
&lt;p>为了可以在android和mac同时使用，最好有域名，并且申请好TLS证书，否则无法使用，可以使用nginx代理。&lt;/p>
&lt;blockquote>
&lt;p>注意MinIO不支持http/2，千万别在代理配置的时候打开http/2，我折腾好久，差点折在这。。。&lt;/p>
&lt;/blockquote>
&lt;h3 id="foldersync配置">foldersync配置&lt;/h3>
&lt;p>建立账户使用如下配置，注意自定义端点的&lt;code>/&lt;/code>要保留。随后在同步设置时选择对应的bucket文件夹。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Access key ID: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Secret access key: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">自定义端点：https://s3.xxxxx.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">区域：随便选一个
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="remotely-save配置">Remotely Save配置&lt;/h3>
&lt;p>配置结束，check一下如果成功，可以配置定期备份。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">S3Endpoint：https://s3.xxxxx.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3Region: us
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3AccessKeyID: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3SecretAccessKey: &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">S3BucketName: bj
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="自建服务-图床">自建服务-图床&lt;/h2>
&lt;p>图床对于笔记来说也很重要的，随后复制到线上或者转到公众号有一个图床可以方便复制笔记。研究图床使用，可以参考&lt;a class="link" href="https://www.jianshu.com/p/4c30495f4325" target="_blank" rel="noopener"
>这个&lt;/a>，使用&lt;a class="link" href="https://github.com/wayjam/picgo-plugin-s3" target="_blank" rel="noopener"
>picGo&lt;/a>来上传到图床，就是我的S3服务器了。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220217152653.png"
loading="lazy"
alt="2022_02_20220217152653.png"
>&lt;/p>
&lt;p>picGo默认不支持S3，需要从插件市场搜索下载，然后S3的配置需要注意，对于&lt;code>MinIO&lt;/code>必须打开&lt;code>PathStyleAccess&lt;/code>，而且为了随后可以访问，需要在自定义域名设置为&lt;code>S3 Url + bucket&lt;/code>，比如&lt;code>https://s3.test.com/images&lt;/code>，设置错误无法正常预览图片。&lt;/p>
&lt;h2 id="obsidian实践">Obsidian实践&lt;/h2>
&lt;p>Obsidian由于有丰富的开源生态，所以使用的体验还是很棒的。下面是一些使用经验分享给大家。&lt;/p>
&lt;h3 id="如何调试obsidian">如何调试Obsidian&lt;/h3>
&lt;p>obsidian底层还是一个前端，当出现软件异常，可以直接打开调试看插件或者obsidian的报错即可，windows和linux使用&lt;code>Ctrl-Shift-I&lt;/code> ，macOS是&lt;code>cmd-opt-I&lt;/code>。&lt;/p>
&lt;h3 id="增加banner">增加Banner&lt;/h3>
&lt;p>安装插件Banners即可，在&lt;a class="link" href="https://unsplash.com/" target="_blank" rel="noopener"
>unsplash&lt;/a>搜你喜欢的图，然后输出命令&lt;code>/banner&lt;/code>找到&lt;code>add banner from clipboard&lt;/code>就快速添加到md头信息。同时&lt;code>cmd+e&lt;/code>可以预览效果。&lt;/p>
&lt;h3 id="双向连接">双向连接&lt;/h3>
&lt;p>有一篇不错的&lt;a class="link" href="https://zhuanlan.zhihu.com/p/355344374" target="_blank" rel="noopener"
>文章&lt;/a>，介绍为什么使用MOC，以及有什么作用。用来管理笔记和积累知识体系很重要。&lt;/p>
&lt;h3 id="看板">看板&lt;/h3>
&lt;p>obsidian有一个&lt;a class="link" href="https://matthewmeye.rs/obsidian-kanban/" target="_blank" rel="noopener"
>三方插件&lt;/a>，非常简单创建看板用来管理进度或者任务。&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/obsidian%E7%9C%8B%E6%9D%BF%E6%8C%87%E5%8C%97/" >Obsidian看板指北&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_02_20220222125027.png"
loading="lazy"
alt="2022_02_20220222125027.png"
>&lt;/p>
&lt;h3 id="大纲">大纲&lt;/h3>
&lt;p>可以在核心插件中打开大纲的功能，在右侧栏显示笔记大纲，功能很好用。&lt;/p>
&lt;h3 id="笔记漫游">笔记漫游&lt;/h3>
&lt;p>可以在核心插件中打开笔记漫游，随机查看历史笔记，是一个不错的笔记发现功能。&lt;/p>
&lt;h3 id="模板">模板&lt;/h3>
&lt;p>可以在核心插件中打开模板功能，设置模板文件夹，我这里是新建&lt;code>Templates&lt;/code>文件夹作为模板目录，随后通过左侧栏使用模板，快速创建格式固定的笔记，比如任务、学习笔记等等。更多设置&lt;a class="link" href="https://publish.obsidian.md/help-zh/%E6%8F%92%E4%BB%B6/%E6%A8%A1%E6%9D%BF" target="_blank" rel="noopener"
>参考&lt;/a>&lt;/p>
&lt;p>设置模板的几个变量，日期：&lt;code>{{date}}&lt;/code>，时间&lt;code>{{time}}&lt;/code>，标题&lt;code>{{title}}&lt;/code>。&lt;a class="link" href="https://blog.galacoding.fun/blog/misc/obsidian%E6%A8%A1%E6%9D%BF%E6%8C%87%E5%8C%97/" >Obsidian模板指北&lt;/a>&lt;/p>
&lt;h3 id="其他玩法与插件">其他玩法与插件&lt;/h3>
&lt;p>可以自行搜索，网上对于obsidian的用法还是很多的。比如&lt;a class="link" href="https://forum-zh.obsidian.md/t/topic/194" target="_blank" rel="noopener"
>这篇&lt;/a>。&lt;/p>
&lt;h3 id="快捷键">快捷键&lt;/h3>
&lt;p>梳理下自己使用的快捷键，这里面根据自己的习惯对快捷键进行了修改，大家可以做个参考。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>功能&lt;/th>
&lt;th>备注&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>cmd+.&lt;/code>&lt;/td>
&lt;td>插入代码块&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+e&lt;/code>&lt;/td>
&lt;td>预览和编辑模式切换&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+w&lt;/code>&lt;/td>
&lt;td>关闭当前文件&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+q&lt;/code>&lt;/td>
&lt;td>关闭当前程序&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+o&lt;/code>&lt;/td>
&lt;td>选择历史浏览的文件&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+p&lt;/code>&lt;/td>
&lt;td>打开命令面板&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+1&lt;/code>&lt;/td>
&lt;td>使用默认程序打开当前文件&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+2&lt;/code>&lt;/td>
&lt;td>插入模板&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+3&lt;/code>&lt;/td>
&lt;td>固定当前tab页&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+4&lt;/code>&lt;/td>
&lt;td>使用笔记漫游&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+t&lt;/code>&lt;/td>
&lt;td>新增编辑当前TODO任务&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+s&lt;/code>&lt;/td>
&lt;td>保存当前文件&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+opt+i&lt;/code>&lt;/td>
&lt;td>打开调试模式&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+l&lt;/code>&lt;/td>
&lt;td>快速添加超链接&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>#&lt;/code>&lt;/td>
&lt;td>快速添加标签&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>[[&lt;/code>&lt;/td>
&lt;td>快速添加双链&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;gt;&lt;/code>&lt;/td>
&lt;td>快速添加引用&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-&lt;/code>&lt;/td>
&lt;td>快速添加列表&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+,&lt;/code>&lt;/td>
&lt;td>快速添加引用&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+;&lt;/code>&lt;/td>
&lt;td>快速添加文字加粗 &lt;strong>123&lt;/strong>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+shift+f&lt;/code>&lt;/td>
&lt;td>启动全局文件搜索&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+f&lt;/code>&lt;/td>
&lt;td>本地文件搜索&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+'&lt;/code>&lt;/td>
&lt;td>文本斜体 &lt;em>123&lt;/em>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+;&lt;/code> + &lt;code>cmd+'&lt;/code>&lt;/td>
&lt;td>文本加粗斜体 &lt;em>&lt;strong>123&lt;/strong>&lt;/em>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+enter&lt;/code>&lt;/td>
&lt;td>快速创建列表、checkbox切换&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+/&lt;/code>&lt;/td>
&lt;td>文本高亮 ==123==&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+[&lt;/code>&lt;/td>
&lt;td>快速插入双链&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+opt+-&amp;gt;&lt;/code>&lt;/td>
&lt;td>切到下一个笔记&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cmd+opt+&amp;lt;-&lt;/code>&lt;/td>
&lt;td>切到上一个笔记&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="总结">总结&lt;/h2>
&lt;p>折腾还是很累的，不过很有成就感。新的笔记记录非常方便，除了表格没之前灵活以外，其他的功能都满足我的需求。而且笔记关联可以让我更好的拆分想法，进行管理。同时看板功能非常好用，可以用于日常任务管理。&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item><item><title>NAS折腾记</title><link>https://blog.galacoding.fun/blog/devops/nas%E6%8A%98%E8%85%BE%E8%AE%B0/</link><pubDate>Mon, 19 Jul 2021 20:43:26 +0800</pubDate><guid>https://blog.galacoding.fun/blog/devops/nas%E6%8A%98%E8%85%BE%E8%AE%B0/</guid><description>&lt;img src="https://blog.galacoding.fun/assets/alex-cheung-gQdPafWDSyk-unsplash.jpg" alt="Featured image of post NAS折腾记" />&lt;!----- [DevOps](/tags/DevOps) [NAS](/tags/NAS) [linux](/tags/linux) [趣玩](/tags/趣玩) ----->
&lt;p>欢迎关注 &lt;strong>“攻城狮Gala”公/ 众 /号&lt;/strong> ，每天一起学习，努力成为Web3全栈&lt;/p>
&lt;p>一年多前矿难的时候，收了一台星际蜗牛，但是一直没时间玩，最近准备备份下数据和照片，同时尝试跑下以太坊客户端，而且以太坊客户端占用空间大，云服务器成本高，自己pc太麻烦，没法一直开机，所以NAS是个不错的选择。&lt;/p>
&lt;p>在这样的背景下，决心整台NAS，平时远程下下电影、备份照片，同时还可以试试同步以太坊。&lt;/p>
&lt;h2 id="硬件升级">硬件升级&lt;/h2>
&lt;p>原硬件是矿渣星际蜗牛，但是堆料很一般所以准备升级下硬件：&lt;/p>
&lt;h3 id="硬盘">硬盘&lt;/h3>
&lt;p>增加两个NAS专用的4T硬盘，希捷酷狼，有点贵说实话，680一块，也可以使用监控类型硬盘，同样支持&lt;code>7*24&lt;/code>使用；&lt;/p>
&lt;h3 id="电源">电源&lt;/h3>
&lt;p>新的更稳定的电源，用的海韵，会贵一点。&lt;/p>
&lt;h3 id="风扇">风扇&lt;/h3>
&lt;p>这个很关键，选好真的没啥噪声，新的静音风扇，但是机箱太小，而且直接贴着机箱导致噪音还是挺大的。所以又买了一个温控的调速器，体验相当棒，平时有一丢丢风可以保证散热，而且噪音非常小；&lt;/p>
&lt;h3 id="远程开关">远程开关&lt;/h3>
&lt;p>目前远程开关的方案是，小米智能插座，可以远程开关机(前提是NAS的bios配置插电启动哈)，同时可以记录功耗；&lt;/p>
&lt;h3 id="系统盘">系统盘&lt;/h3>
&lt;p>原系统盘16g，肯定不够，买了一个更大的固态硬盘240g；&lt;/p>
&lt;h3 id="设置固定内网ip">设置固定内网ip&lt;/h3>
&lt;p>在路由器设置静态ip绑定，按照你的牌子在后台设置，这样可以保证每次NAS连入路由器的时候，使用固定ip，不用每次查询ip是否有变动；&lt;/p>
&lt;p>最后组装效果还不错，就是硬盘偏贵。。。。NAS的功耗非常低，可以长期开着，实测520小时耗电8度，功率大概20瓦左右。当然确实不用的时候可以远程关掉。&lt;/p>
&lt;h2 id="安装系统">安装系统&lt;/h2>
&lt;p>操作系统使用更通用的linux而不是nas操作系统，Ubuntu server 20.04。主要的考虑是够折腾，不会被某个系统限制，所有的方案使用开源项目。总体来说折腾NAS就是玩linux，还有很多人用CDN+NAS来做网站，体验还是不错的。&lt;/p>
&lt;h3 id="挂载硬盘">挂载硬盘&lt;/h3>
&lt;p>硬盘格式化ext4，设置按照硬盘UUID永久挂载，否则重启就需要重新挂载；&lt;/p>
&lt;p>参考：https://blog.csdn.net/dk_mcu/article/details/53464699&lt;/p>
&lt;h2 id="必备软件">必备软件&lt;/h2>
&lt;h3 id="openssh"> openssh&lt;/h3>
&lt;p>这个不用说了，必装软件，用于远程登录。&lt;/p>
&lt;h3 id="frp">frp&lt;/h3>
&lt;p>用于外网登录和管理的，目前把ssh端口、vnc端口，还有一些后台管理端口做了穿透。&lt;/p>
&lt;p>&lt;a class="link" href="https://doc.natfrp.com/#/launcher/remote" target="_blank" rel="noopener"
>https://doc.natfrp.com/#/launcher/remote&lt;/a>&lt;/p>
&lt;p>方案使用市面上的免费服务；&lt;/p>
&lt;h3 id="docker">docker&lt;/h3>
&lt;p>这个不用细说，必备呀，安装一些服务非常方便。&lt;/p>
&lt;h3 id="nextclound">nextclound&lt;/h3>
&lt;p>一个开源的网盘方案，有mac、安卓、iphone的客户端，可以创建用户随后按用户维度，备份文档、照片、文件等等。&lt;/p>
&lt;p>直接docker部署非常方便；&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloud_db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mysql&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;./mysql:/var/lib/mysql&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_ROOT_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">root&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">MYSQL_DATABASE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nextcloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloud_app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">depends_on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nextcloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">./config:/var/www/html/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">/data1/nextcloud:/var/www/html/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">./apps:/var/www/html/apps&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="s2">&amp;#34;2333:80&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">external&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nextcloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>随后访问ip:2333初始化，记得选择mysql进行初始化哈~&lt;/p>
&lt;h3 id="minidlna">minidlna&lt;/h3>
&lt;p>开源的lnda协议实现，所有支持ldna的音响、电视都可以直接连NAS播放。非常方便，用于看电影、听歌等等。&lt;/p>
&lt;p>参考：https://blog.csdn.net/winniezhang/article/details/85861526&lt;/p>
&lt;h3 id="下载工具">下载工具&lt;/h3>
&lt;p>Aria2非常方便，用于下载http、bt等等。&lt;/p>
&lt;p>&lt;a class="link" href="http://aria2.github.io/" target="_blank" rel="noopener"
>http://aria2.github.io/&lt;/a>&lt;/p>
&lt;p>AriaNG是一个页面工具非常好用强烈推荐，我把AriaNG的html放在nginx路径就可以直接访问到；&lt;/p>
&lt;p>同时需要启动Aria2的rpc模式，aria2c &amp;ndash;enable-rpc &amp;ndash;rpc-listen-all=true &amp;ndash;rpc-allow-origin-all -c &amp;ndash;dir=&amp;quot;/data1/downloads&amp;quot;&lt;/p>
&lt;p>不过服务重启后，下载任务会丢。。。无语了。&lt;/p>
&lt;h3 id="视频下载工具">视频下载工具&lt;/h3>
&lt;p>强烈推荐youget，体验不错，有些可能被下架的资源可以用youget下载。&lt;/p>
&lt;p>参考：https://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E&lt;/p>
&lt;h3 id="文件传输工具">文件传输工具&lt;/h3>
&lt;p>强烈推荐samb，可以直接在mac和win上传输数据非常方便，直接访问smb://ip即可。还可以通过手机备份数据到NAS，推荐使用FolderSyncPro，目前支持安卓。&lt;/p>
&lt;p>参考：https://www.linuxidc.com/Linux/2018-11/155466.htm&lt;/p>
&lt;h3 id="安装桌面">安装桌面&lt;/h3>
&lt;p>最终还是安装桌面，并用vnc远程控制。比如下载百度云、网页下载等，用桌面控制体验更好。&lt;/p>
&lt;p>安装桌面环境：&lt;/p>
&lt;p>参考：https://itsfoss.com/install-gui-ubuntu-server/&lt;/p>
&lt;p>安装x11vnc：&lt;/p>
&lt;p>参考：https://blog.csdn.net/jiakai82/article/details/103386097&lt;/p>
&lt;p>这个是直接共享桌面，所以没显示器会卡顿。&lt;/p>
&lt;p>参考：https://blog.csdn.net/weixin_43640082/article/details/109029526&lt;/p>
&lt;p>参考这个可以设置虚拟输出，这样可以直接使用x11了。&lt;/p>
&lt;h2 id="其他经验">其他经验&lt;/h2>
&lt;h3 id="设置服务自启动">设置服务自启动&lt;/h3>
&lt;p>这个对于一些手动安装的服务来说需要自行设置自启动。&lt;/p>
&lt;p>参考：https://doc.natfrp.com/#/frpc/service/systemd&lt;/p>
&lt;p>&lt;img src="https://blog.galacoding.fun/assets/2022_03_wxsousuo.png"
loading="lazy"
alt="2022_03_wxsousuo.png"
>&lt;/p></description></item></channel></rss>